<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="day4-用Python批量处理文件, Gengtianba&#39;s Blog">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>day4-用Python批量处理文件 | Gengtianba&#39;s Blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Gengtianba's Blog" type="application/atom+xml">
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Gengtianba&#39;s Blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Gengtianba&#39;s Blog</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/2.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">day4-用Python批量处理文件</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/python/">
                                <span class="chip bg-color">python</span>
                            </a>
                        
                            <a href="/tags/%E7%AC%94%E8%AE%B0/">
                                <span class="chip bg-color">笔记</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Python%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%88%B0%E7%B2%BE%E9%80%9A7%E5%A4%A9%E9%80%9F%E6%88%90/" class="post-category">
                                Python零基础到精通7天速成
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-05-08
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    7.4k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    36 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h3 id="本文章为金角大王Alex《Python零基础到精通7天速成》视频笔记"><a href="#本文章为金角大王Alex《Python零基础到精通7天速成》视频笔记" class="headerlink" title="本文章为金角大王Alex《Python零基础到精通7天速成》视频笔记"></a>本文章为金角大王Alex《Python零基础到精通7天速成》视频笔记</h3><h3 id="视频链接-Python零基础到精通7天速成"><a href="#视频链接-Python零基础到精通7天速成" class="headerlink" title="视频链接:Python零基础到精通7天速成"></a>视频链接:<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Gf4y1q7SG?share_source=copy_web">Python零基础到精通7天速成</a></h3><span id="more"></span>
<h1 id="一、文件操作"><a href="#一、文件操作" class="headerlink" title="一、文件操作"></a>一、文件操作</h1><h2 id="（一）文件操作流程"><a href="#（一）文件操作流程" class="headerlink" title="（一）文件操作流程"></a>（一）文件操作流程</h2><h4 id="用word操作一个文件的流程如下"><a href="#用word操作一个文件的流程如下" class="headerlink" title="用word操作一个文件的流程如下:"></a>用word操作一个文件的流程如下:</h4><p>1．找到文件，双击打开<br>2. 读或修改<br>3．保存&amp;关闭</p>
<h4 id="用pythqn操作文件也差不多"><a href="#用pythqn操作文件也差不多" class="headerlink" title="用pythqn操作文件也差不多:"></a>用pythqn操作文件也差不多:</h4><pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;filename&#39;)  # 打开文件
f.write(&#39;我是野生程序员&#39;)  # 写操作
f.read()  # 读操作
f.close()  # 保持并关闭</code></pre>
<p> &amp;emsp;不过有一点跟人肉操作word文档不同，就是word文档只要打开了，就即可以读、又可以修改。但Python只能以读、创建、追加3种模式中的任意一种打开文件，不能即写又读。</p>
<h4 id="文件打开模式-文本模式"><a href="#文件打开模式-文本模式" class="headerlink" title="文件打开模式(文本模式)"></a>文件打开模式(文本模式)</h4><p>1、r只读模式<br>2、w创建模式，若文件已存在，则覆盖旧文件<br>3、a追加模式，新数据会写到文件末尾</p>
<h2 id="（二）创建、只读、追加"><a href="#（二）创建、只读、追加" class="headerlink" title="（二）创建、只读、追加"></a>（二）创建、只读、追加</h2><h4 id="1、创建"><a href="#1、创建" class="headerlink" title="1、创建"></a>1、创建</h4><pre class="language-python" data-language="python"><code class="language-python"># 以写入模式打开
file &#x3D; open(&#39;name_list&#39;, mode&#x3D;&#39;w&#39;, encoding&#x3D;&#39;utf-8&#39;)  # ctrl+左键点击open，可以查看函数参数列表  # ctrl+左键点击open，可以查看函数参数列表

file.write(&#39;张三\n&#39;)
file.write(&#39;李四\n&#39;)
file.write(&#39;王五\n&#39;)
file.encoding(&#39;UTF-8&#39;)

file.close()</code></pre>
<h4 id="2、只读"><a href="#2、只读" class="headerlink" title="2、只读"></a>2、只读</h4><pre class="language-python" data-language="python"><code class="language-python"># 以只读模式打开
file &#x3D; open(&#39;name_list&#39;, mode&#x3D;&#39;r&#39;)  
print(file.read())
print(&#39;--------------------------&#39;)

file &#x3D; open(&#39;name_list&#39;, mode&#x3D;&#39;r&#39;)  # read后光标会移到文本最后一行，需要重新打开文本才能在此read
print(file.readline())</code></pre>
<h4 id="3、追加"><a href="#3、追加" class="headerlink" title="3、追加"></a>3、追加</h4><pre class="language-python" data-language="python"><code class="language-python"># 以追加模式打开
file &#x3D; open(&#39;name_list&#39;, mode&#x3D;&#39;a&#39;)
file.write(&#39;耿天霸\n&#39;)

file.close()</code></pre>
<h4 id="4、其它功能"><a href="#4、其它功能" class="headerlink" title="4、其它功能"></a>4、其它功能</h4><pre class="language-python" data-language="python"><code class="language-python">def seek (self, *args,**kwargs ) : 
&#39;&#39;&#39;
 把操作文件的光标移到指定位置
*注意seek的长度是按字节算的，字符编码存每个字符所占的字节长度不一样。
如&quot;路飞学城”用gbk存是2个字节一个字，用utf-8就是3个字节，因此以gbk打开时, seek（4）就把光标切换到了“飞”和“学”两个字中间。
&#39;&#39;&#39;

def tell(self, *args,* *kwargs ) : # 返回当前文件操作光标位置



def flush( self, *args,**kwargs ) : # 把文件从内存buffer里强制刷新到硬盘
&#39;&#39;&#39;
正常情况下write命令将数据导入到内存的缓存（buffer）中，当缓存满了再一并写入内存，但当断电时内存中数据（包括buffer）会丢失（因为还没写入硬盘），因此通过flush命令可以不用将数据导入到buffer而直接写入硬盘（应用于不能丢失的重要数据）
&#39;&#39;&#39;

# 示例
file &#x3D; open(&#39;name_list&#39;, &#39;r&#39;, encoding&#x3D;&#39;utf-8&#39;)
file.seek(3)
print(file.readline())  # output:三


file &#x3D; open(&#39;name_list2&#39;, mode&#x3D;&#39;w&#39;, encoding&#x3D;&#39;utf-8&#39;)

file.write(&#39;王二\n&#39;)
print(file.tell())
file.write(&#39;张三\n&#39;)
print(file.tell())
file.write(&#39;李四\n&#39;)
print(file.tell())

file.seek(8)
file.write(&#39;王五&#39;)
file.close()  
# output:
# 王二
# 王五
# 李四

# 不输入flie.flush 运行write后没有任何结果
&gt;&gt;&gt; flie &#x3D; open(&#39;file_flush&#39;, &#39;w&#39;, encoding &#x3D; &#39;utf-8&#39;)
&gt;&gt;&gt; flie.write(&#39;张三\n&#39;)
3
&gt;&gt;&gt; flie.write(&#39;李四\n&#39;)
3
&gt;&gt;&gt; flie.flush()  
&#39;&#39;&#39;
output: 张三
        李四
&#39;&#39;&#39;
</code></pre>
<h2 id="（三）遍历文件"><a href="#（三）遍历文件" class="headerlink" title="（三）遍历文件"></a>（三）遍历文件</h2><h4 id="1、数据源"><a href="#1、数据源" class="headerlink" title="1、数据源"></a>1、数据源</h4><pre class="language-python" data-language="python"><code class="language-python">1． 马纤羽  深圳  173  50  13744234523
2.  乔亦菲  广州  172  52  15823423525
3． 罗梦竹  北京  175  49  18623423421
4． 刘诺涵  北京  170  48  18623423765
5． 岳妮妮  深圳  177  54  18835324553
6． 贺婉置  深圳  174  52  18933434452
7． 叶梓    上海  171  49  18042432324</code></pre>
<h4 id="2、任务"><a href="#2、任务" class="headerlink" title="2、任务"></a>2、任务</h4><p> &amp;emsp;遍历文件并找出身高大于170，体重低于50的人</p>
<h4 id="3、代码"><a href="#3、代码" class="headerlink" title="3、代码"></a>3、代码</h4><pre class="language-python" data-language="python"><code class="language-python"># 以追加模式打开
file &#x3D; open(&#39;data_sourse&#39;, encoding&#x3D;&#39;utf-8&#39;)  # encoding参数，告诉python源文件的编码格式，否则python会用GBK进行解码，并报错！！！
# 以列表打印出源文件，每一行为一个元素，
# print(file.readlines())  # 可以看到：元素的末尾都有换行符，当文件中出现多的换行符元素是，在遍历是会报错

# 循环每一行
for row in file.readlines():
    # print(row, end&#x3D;&#39;&#39;)  # 每一行自带换行符，使用不需要print()再在结尾加换行符
    row_list &#x3D; row.split()  # 将字符串row存成列表row_list，分隔符使用空格
    # print(row_list)
    height &#x3D; int(row_list[3])
    weight &#x3D; int(row_list[4])
    if height &gt;&#x3D; 170 and weight &lt;&#x3D; 50:
        print(row, end&#x3D;&#39;&#39;)</code></pre>
<h2 id="（四）2进制模式"><a href="#（四）2进制模式" class="headerlink" title="（四）2进制模式"></a>（四）2进制模式</h2><h4 id="1、如何处理图⽚、视频⽂件呢？"><a href="#1、如何处理图⽚、视频⽂件呢？" class="headerlink" title="1、如何处理图⽚、视频⽂件呢？"></a>1、如何处理图⽚、视频⽂件呢？</h4><p> &amp;emsp;图⽚、视频，是有⾃⼰特殊的编码的，⽽⾮什么unicode\utf-8这样的⽂本编码 。 所以要操作这样的⽂件 ，你⽤utf-8什么的去解，会报错。</p>
<h4 id="2、可以⽤2进制模式打开⽂件"><a href="#2、可以⽤2进制模式打开⽂件" class="headerlink" title="2、可以⽤2进制模式打开⽂件"></a>2、可以⽤2进制模式打开⽂件</h4><p>（1）<strong>rb</strong> 2进制只读模式<br>（2）<strong>wb</strong> 2进制创建模式，若⽂件已存在，则覆盖旧⽂件<br>（3）<strong>ab</strong> 2进制追加模式，新数据会写到⽂件末尾</p>
<h4 id="3、代码实例"><a href="#3、代码实例" class="headerlink" title="3、代码实例"></a>3、代码实例</h4><h4 id="（1）读取二进制文件"><a href="#（1）读取二进制文件" class="headerlink" title="（1）读取二进制文件"></a>（1）读取二进制文件</h4><pre class="language-python" data-language="python"><code class="language-python">file_png &#x3D; open(&#39;aa.png&#39;, &#39;rb&#39;)
for line in file_png.readlines():
    print(line)
# output为16进制格式表示打开成功：b&quot;\x00\x00\x00\rIHDR\x00\x00\x01\xe1\x00\x00\x01#\x08\x02\x00\x00\x00\x8a\x08.\xe6...
# 采用16进制进行显示相较于2进制010101方便人类阅读</code></pre>

<h4 id="（2）写入二进制文件"><a href="#（2）写入二进制文件" class="headerlink" title="（2）写入二进制文件"></a>（2）写入二进制文件</h4><pre class="language-python" data-language="python"><code class="language-python">file &#x3D; open(&#39;wb_file&#39;, &#39;wb&#39;)

# file.write(&#39;哈哈&#39;)  # 直接写入文本会报错
file.write(&#39;哈哈&#39;.encode(&#39;utf-8&#39;))  # 将&#39;哈哈&#39;解码为字节码，可以进行写入</code></pre>

<h2 id="（五）混合模式"><a href="#（五）混合模式" class="headerlink" title="（五）混合模式"></a>（五）混合模式</h2><h4 id="文件的三种混合模式"><a href="#文件的三种混合模式" class="headerlink" title="文件的三种混合模式"></a>文件的三种混合模式</h4><h4 id="w-写读"><a href="#w-写读" class="headerlink" title="w+ 写读"></a>w+ 写读</h4><p>  &amp;emsp;这个功能基本没什么意义，它会创建⼀个新⽂件 ，写⼀段内容，可以再把写的内容读出来，没什么卵⽤</p>
<h4 id="r-读写"><a href="#r-读写" class="headerlink" title="r+ 读写"></a>r+ 读写</h4><p> &amp;emsp;能读能写,但都是写在⽂件最后，跟追加⼀样</p>
<h4 id="a-追加读"><a href="#a-追加读" class="headerlink" title="a+ 追加读"></a>a+ 追加读</h4><p> &amp;emsp;⽂件⼀打开时光标会在⽂件尾部,写的数据全会是追加的形式</p>
<p> &amp;emsp;尝试直接以r+模式打开⽂件，默认会把新增的内容追加到⽂件最后⾯。但我想要的是修改中间的内容 ，怎么办？ 为什么会把内容添加到尾部呢？(最新测试r+会从头覆盖，测试代码如下)</p>
<div align=center>
<img src="https://img-blog.csdnimg.cn/d76ac748b33d4e518d77feb4245ed806.png" width = 60%>
</div>

<h2 id="（六）文件修改"><a href="#（六）文件修改" class="headerlink" title="（六）文件修改"></a>（六）文件修改</h2><h4 id="问：为什么原有数据会被覆盖呢？"><a href="#问：为什么原有数据会被覆盖呢？" class="headerlink" title="问：为什么原有数据会被覆盖呢？"></a>问：为什么原有数据会被覆盖呢？</h4><p> &amp;emsp;这是硬盘的存储原理导致的，当你把⽂件存到硬盘上，就在硬盘上划了⼀块空间，存数据，等你下次打开这个⽂件 ，seek到⼀个位置，每改⼀个字，就是把原来的覆盖掉，如果要插⼊，是不可能的，因为后⾯的数据在硬盘上不会整体向后移。所以就出现 当前这个情况 ，你想插⼊，却变成了会把旧内容覆盖掉。</p>
<h4 id="问：但是⼈家word-vim-都可以修改⽂件呀，你这不能修改算个什么玩意？"><a href="#问：但是⼈家word-vim-都可以修改⽂件呀，你这不能修改算个什么玩意？" class="headerlink" title="问：但是⼈家word, vim 都可以修改⽂件呀，你这不能修改算个什么玩意？"></a>问：但是⼈家word, vim 都可以修改⽂件呀，你这不能修改算个什么玩意？</h4><p> &amp;emsp;我并没说就不能修改了，你想修改当然可以，就是不要在硬盘上修改，把内容全部读到内存⾥，数据在内存⾥可以随便增删改查，修改之后，把内容再全部写回硬盘，把原来的数据全部覆盖掉。vim word等各种⽂本编辑器都是这么⼲的。</p>
<h4 id="问：但是⽂件如果特别⼤，⽐如5个GB-读到内存，就⼀下⼦吃掉了5GB内存，好费资源呀，有没有更好的办法呢？"><a href="#问：但是⽂件如果特别⼤，⽐如5个GB-读到内存，就⼀下⼦吃掉了5GB内存，好费资源呀，有没有更好的办法呢？" class="headerlink" title="问：但是⽂件如果特别⼤，⽐如5个GB,读到内存，就⼀下⼦吃掉了5GB内存，好费资源呀，有没有更好的办法呢？"></a>问：但是⽂件如果特别⼤，⽐如5个GB,读到内存，就⼀下⼦吃掉了5GB内存，好费资源呀，有没有更好的办法呢？</h4><p> &amp;emsp;如果不想占内存，只能⽤另外⼀种办法啦，就是边读边改，什么意思？ 不是不能改么？是不能改原⽂件 ，但你可以打开旧⽂件 的同时，⽣成⼀个新⽂件呀，边从旧的⾥⾯⼀⾏⾏的读，边往新的⼀⾏⾏写，遇到需要修改就改了再写到新⽂件，这样，在内存⾥⼀直只存⼀⾏内容。就不占内存了。 但这样也有⼀个缺点，就是虽然不占内存 ，但是占硬盘，每次修改，都要⽣成⼀份新⽂件，虽然改完后，可以把旧的覆盖掉，但在改的过程中，还是有2份数据的。</p>
<h4 id="问：还有更好的⽅式么"><a href="#问：还有更好的⽅式么" class="headerlink" title="问：还有更好的⽅式么?"></a>问：还有更好的⽅式么?</h4><p> &amp;emsp;有完没完？ 没了。</p>
<h4 id="文件修改实例"><a href="#文件修改实例" class="headerlink" title="文件修改实例"></a>文件修改实例</h4><h4 id="1、stock-data文件"><a href="#1、stock-data文件" class="headerlink" title="1、stock_data文件"></a>1、stock_data文件</h4><pre class="language-python" data-language="python"><code class="language-python">股票代码,股票名称,当前价,涨跌额,涨跌幅,年初⾄今,成交量,成交额,换⼿率,市盈率(TTM),股息率,市
值
SH601778,N晶科,6.29,+1.92,+43.94%,+43.94%,259.66万,1625.52
万,0.44%,22.32,-,173.95亿
SH688566,吉⻉尔,52.66,+6.96,+15.23%,+122.29%,1626.58万,8.09
亿,42.29%,89.34,-,98.44亿
SH688268,华特⽓体,88.80,+11.72,+15.20%,+102.51%,622.60万,5.13
亿,22.87%,150.47,-,106.56亿
SH600734,实达集团,2.60,+0.24,+10.17%,-61.71%,1340.27万,3391.14万,2.58%,亏
损,0.00%,16.18亿</code></pre>
<h4 id="2、修改代码"><a href="#2、修改代码" class="headerlink" title="2、修改代码"></a>2、修改代码</h4><pre class="language-python" data-language="python"><code class="language-python"># 1、将数据导入内存
file &#x3D; open(&#39;stock_data&#39;, mode&#x3D;&#39;r+&#39;, encoding&#x3D;&#39;utf-8&#39;)

data &#x3D; file.read()  # 使用read方法
new_data &#x3D; data.replace(&#39;吉⻉尔&#39;, &#39;路飞学城&#39;)
print(new_data)

# 2、删除硬盘数据
file.seek(0)  # 将光标移动到文件最开始
file.truncate()  # 截断：将光标后的数据全部删除

# 3、写入新数据
file.write(new_data)
file.close()

# 运行后stock_data的&#39;吉⻉尔&#39;,将改为&#39;路飞学城&#39;</code></pre>
<h1 id="二、练习–全局文件检索替换"><a href="#二、练习–全局文件检索替换" class="headerlink" title="二、练习–全局文件检索替换"></a>二、练习–全局文件检索替换</h1><p> &amp;emsp;写⼀个脚本，允许⽤户按以下⽅式执⾏时，即可以对指定⽂件内容进⾏全局替换，且替换完毕后打印替换了多少处内容。</p>
<pre class="language-python" data-language="python"><code class="language-python">def file_replace(file_name, old_str, new_str):

    # 1、将数据导入内存
    file &#x3D; open(file_name, mode&#x3D;&#39;r+&#39;, encoding&#x3D;&#39;utf-8&#39;)
    data &#x3D; file.read()
    new_data &#x3D; data.replace(old_str, new_str)

    # 2、删除硬盘数据
    file.seek(0)  # 将光标移动到文件最开始
    file.truncate()  # 截断：将光标后的数据全部删除

    # 3、写入新数据
    file.write(new_data)
    file.close()

    print(f&#39;成功替换字符&#123;old_str&#125;到&#123;new_str&#125;，共计&#123;data.count(old_str)&#125;处&#39;)

file_replace(&#39;stock_data&#39;, &#39;亿&#39;, &#39;万万&#39;)</code></pre>

<h1 id="三、练习–用户登陆认证程序"><a href="#三、练习–用户登陆认证程序" class="headerlink" title="三、练习–用户登陆认证程序"></a>三、练习–用户登陆认证程序</h1><h2 id="（一）要求"><a href="#（一）要求" class="headerlink" title="（一）要求"></a>（一）要求</h2><p>1、要求⽤户输⼊帐号密码进⾏登陆<br>2、⽤户账号信息保存在⽂件内<br>3、⽤户密码输⼊错误三次后锁定⽤户，下次再登录，检测到是这个被锁定的⽤户，则依然不允许其它登录，提示已被锁</p>
<h4 id="用户数据"><a href="#用户数据" class="headerlink" title="用户数据"></a>用户数据</h4><pre class="language-none"><code class="language-none">耿天霸 111111 unlock
童天霸 222222 unlock
武天霸 333333 unlock
霸天霸 444444 unlock
张天霸 555555 unlock</code></pre>
<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><pre class="language-python" data-language="python"><code class="language-python"># 1、导入用户数据
user_info &#x3D; open(&#39;users&#39;, encoding&#x3D;&#39;utf-8&#39;)

# 2、将数据转化成字典，key为用户名，value为一个字典，包含&#123;用户名：，密码：，状态：&#125;
info_dic &#x3D; &#123;
    # &#39;耿天霸&#39;：&#123;&#39;password&#39;: &#39;111111&#39;, &#39;state&#39;: &#39;unlock&#39;&#125;,
    # &#39;xxx&#39;:&#123;&#39;password&#39;:&#39;xxxxxx&#39;, &#39;state&#39;: &#39;xxxxx&#39;&#125;
&#125;
# 遍历每一行
for line in user_info:
    user &#x3D; line.strip().split()  # 先用strip()去掉空格，再用split()将逗号分开
    print(user)
    info_dic[user[0]] &#x3D; &#123;
        &#39;password&#39;: user[1],
        &#39;state&#39;: user[2]
    &#125;
# print(info_dic)
# 4、登录小程序
while True:
    log_name &#x3D; input(&#39;please input your username: &#39;).strip()  # strip方法防止用户输入空格导致判断错误

    # 如果用户名在用户信息中
    if log_name in info_dic.keys():

        # 如果用户名被被锁定：直接退出并输入提示语
        if info_dic[log_name][&#39;state&#39;] &#x3D;&#x3D; &#39;locked&#39;:
            print(&#39;you account is looked&#39;)
            continue
        else:
            times &#x3D; 0
            # 可以输入三次密码
            while times &lt; 3:
                log_password &#x3D; input(&#39;please input your password: &#39;).strip()
                # 如果密码正确：退出并打印提示
                if log_password &#x3D;&#x3D; info_dic[log_name][&#39;password&#39;]:
                    exit(&#39;welcome, you are logged in&#39;)
                # 如果密码不正确：打印提示
                else:
                    print(f&#39;your password is incorrect, you have &#123;2 - times&#125; times left&#39;)
                    # 如果密码错误三次：锁定账户，打印提示；并按照原格式保存会数据库
                    if times &#x3D;&#x3D; 2:
                        info_dic[log_name][&#39;state&#39;] &#x3D; &#39;locked&#39;
                        print(&#39;your account is locked&#39;)
                        # 字典转回txt
                        user_info1 &#x3D; open(&#39;users&#39;, mode&#x3D;&#39;w&#39;, encoding&#x3D;&#39;utf-8&#39;)
                        for k in info_dic:
                            user_info1.write(k + &#39; &#39; + info_dic[k][&#39;password&#39;] + &#39; &#39; + info_dic[k][&#39;state&#39;] + &#39;\n&#39;)
                        user_info1.close()  # 源文件中的耿天霸状态也会被锁定

                times +&#x3D; 1
    else:
        print(&#39;username not registered&#39;)
        continue</code></pre>
<h1 id="四、综合实战–股票查询程序"><a href="#四、综合实战–股票查询程序" class="headerlink" title="四、综合实战–股票查询程序"></a>四、综合实战–股票查询程序</h1><h4 id="（一）数据源"><a href="#（一）数据源" class="headerlink" title="（一）数据源"></a>（一）数据源</h4><div align=center>
<img src="https://img-blog.csdnimg.cn/42d0acb9f49b4172bd756c8301768e97.png" width = 100%>
</div>

<h4 id="数据源stock-data-txt"><a href="#数据源stock-data-txt" class="headerlink" title="数据源stock_data.txt"></a>数据源stock_data.txt</h4><pre class="language-python" data-language="python"><code class="language-python">股票代码,股票名称,当前价,涨跌额,涨跌幅,年初⾄今,成交量,成交额,换⼿率,市盈率(TTM),股息率,市
值
SH601778,N晶科,6.29,+1.92,+43.94%,+43.94%,259.66万,1625.52
万,0.44%,22.32,-,173.95亿
SH688566,吉⻉尔,52.66,+6.96,+15.23%,+122.29%,1626.58万,8.09
亿,42.29%,89.34,-,98.44亿
SH688268,华特⽓体,88.80,+11.72,+15.20%,+102.51%,622.60万,5.13
亿,22.87%,150.47,-,106.56亿
SH600734,实达集团,2.60,+0.24,+10.17%,-61.71%,1340.27万,3391.14万,2.58%,亏
损,0.00%,16.18亿
SH900957,凌云B股,0.36,+0.033,+10.09%,-35.25%,119.15万,42.10
万,0.65%,44.65,0.00%,1.26亿
SZ000584,哈⼯智能,6.01,+0.55,+10.07%,-4.15%,2610.86万,1.53
亿,4.36%,199.33,0.26%,36.86亿
SH600599,熊猫⾦控,6.78,+0.62,+10.06%,-35.55%,599.64万,3900.23万,3.61%,亏
损,0.00%,11.25亿
SH600520,⽂⼀科技,8.21,+0.75,+10.05%,-24.05%,552.34万,4464.69万,3.49%,亏
损,0.00%,13.01亿
SH603682,锦和商业,11.73,+1.07,+10.04%,+48.29%,2746.63万,3.15
亿,29.06%,29.62,-,55.42亿
SZ300831,派瑞股份,12.27,+1.12,+10.04%,+208.29%,25.38万,311.41
万,0.32%,60.59,-,39.26亿
SH900939,汇丽B,0.504,+0.046,+10.04%,-23.52%,123.86万,61.86
万,1.41%,52.80,0.00%,9147.60万
SH600880,博瑞传播,4.39,+0.40,+10.03%,+10.03%,1117.75万,4816.57
万,1.02%,95.87,0.50%,48.00亿
SZ000609,中迪投资,7.68,+0.70,+10.03%,+39.64%,2663.08万,2.00
亿,9.12%,58.84,0.00%,22.98亿
SZ300328,宜安科技,15.80,+1.44,+10.03%,+7.19%,432.45万,6832.68
万,0.95%,64.80,0.51%,72.72亿
SZ002988,豪美新材,17.33,+1.58,+10.03%,+58.41%,3.50万,60.68万,0.06%,24.42,-,40.34
亿
SZ000615,京汉股份,4.61,+0.42,+10.02%,+4.06%,518.09万,2388.41万,0.69%,亏
损,0.00%,36.06亿
SZ300443,⾦雷股份,18.33,+1.67,+10.02%,+32.74%,987.25万,1.75
亿,6.19%,18.78,1.08%,43.64亿
SH600506,⾹梨股份,11.42,+1.04,+10.02%,+11.96%,1039.48万,1.18亿,7.04%,亏
损,0.00%,16.87亿
SZ300505,川⾦诺,15.61,+1.42,+10.01%,-11.26%,493.54万,7555.40
万,6.03%,26.70,0.85%,20.40亿
SZ300830,⾦现代,14.95,+1.36,+10.01%,+239.77%,63.66万,951.76
万,0.74%,70.76,0.00%,64.30亿
SH603630,拉芳家化,17.26,+1.57,+10.01%,+27.85%,949.49万,1.60
亿,4.19%,209.44,0.83%,39.13亿
SZ002655,共达电声,11.43,+1.04,+10.01%,-14.64%,1683.51万,1.88
亿,4.68%,166.69,0.00%,41.15亿
SZ300460,惠伦晶体,16.59,+1.51,+10.01%,+0.97%,430.28万,6974.52万,2.56%,亏
损,0.00%,27.92亿
SH603929,亚翔集成,20.33,+1.85,+10.01%,+33.40%,1373.66万,2.76
亿,6.44%,84.29,1.25%,43.38亿
SH603392,万泰⽣物,35.97,+3.27,+10.00%,+311.09%,6.92万,248.91
万,0.16%,65.24,-,155.97亿
SZ000788,北⼤医药,6.82,+0.62,+10.00%,+2.40%,832.44万,5583.87
万,1.40%,89.69,0.32%,40.65亿
SH601609,⾦⽥铜业,10.89,+0.99,+10.00%,+66.26%,4027.64万,4.28
亿,16.64%,32.38,0.32%,158.66亿
SZ000403,双林⽣物,52.48,+4.77,+10.00%,+62.48%,171.75万,9013.54
万,0.63%,88.80,0.23%,143.05亿
SZ300832,新产业,72.80,+6.62,+10.00%,+131.92%,10.73万,780.85
万,0.26%,40.20,0.62%,299.64亿
SZ002985,北摩⾼科,92.58,+8.42,+10.00%,+310.92%,2422.97万,21.55
亿,64.54%,60.48,1.08%,139.02亿
SH603348,⽂灿股份,18.06,+1.64,+9.99%,-25.15%,357.86万,6328.87
万,4.39%,89.39,0.89%,41.83亿
SH603900,莱绅通灵,8.92,+0.81,+9.99%,-5.61%,1364.10万,1.15
亿,4.01%,43.78,5.06%,30.37亿
SH603042,华脉科技,17.85,+1.62,+9.98%,+17.05%,491.44万,8705.99
万,4.86%,128.50,0.31%,24.28亿
SZ300260,新莱应材,19.83,+1.80,+9.98%,+68.48%,1800.45万,3.48
亿,14.16%,65.15,0.73%,40.04亿
SZ000557,⻄部创业,3.42,+0.31,+9.97%,-0.87%,2751.17万,9408.89
万,1.89%,79.39,0.00%,49.88亿
SZ300716,国⽴科技,9.94,+0.90,+9.96%,-4.24%,142.25万,1413.92万,1.50%,亏
损,0.29%,15.91亿
SZ002449,国星光电,11.92,+1.08,+9.96%,-6.80%,5185.52万,6.03
亿,8.53%,21.51,2.73%,73.72亿
SZ002397,梦洁股份,8.50,+0.77,+9.96%,+73.47%,810.06万,6885.51
万,1.67%,110.68,2.35%,64.95亿
SZ002662,京威股份,4.09,+0.37,+9.95%,+54.92%,8588.12万,3.40亿,5.89%,亏
损,0.00%,61.35亿
SZ002297,博云新材,6.30,+0.57,+9.95%,-1.87%,2852.27万,1.74亿,6.07%,亏
损,0.00%,29.69亿
SZ300351,永贵电器,8.62,+0.78,+9.95%,-2.16%,1443.26万,1.23亿,5.89%,亏
损,0.00%,33.07亿
SH600834,申通地铁,7.63,+0.69,+9.94%,+5.68%,223.20万,1703.02
万,0.47%,74.74,0.56%,36.42亿
SZ000616,海航投资,3.10,+0.28,+9.93%,+27.57%,5002.95万,1.51
亿,3.50%,133.28,0.00%,44.34亿
SH600662,强⽣控股,5.54,+0.50,+9.92%,+22.03%,254.89万,1412.07万,0.24%,亏
损,0.72%,58.36亿
SZ300223,北京君正,107.20,+8.92,+9.08%,+23.01%,930.81万,9.86
亿,7.34%,314.71,0.00%,216.28亿
SZ002978,安宁股份,35.46,+2.95,+9.07%,+29.09%,1181.96万,4.11
亿,29.10%,25.11,-,142.31亿
SZ002084,海鸥住⼯,7.09,+0.54,+8.24%,+9.24%,1647.83万,1.16
亿,3.36%,33.83,0.00%,35.60亿
SH688012,中微公司,229.00,+17.30,+8.17%,+147.84%,448.32万,10.05
亿,8.72%,607.21,-,1224.83亿
SZ002049,紫光国微,74.04,+5.54,+8.09%,+45.63%,4459.03万,32.57
亿,7.35%,85.03,0.10%,449.29亿
SH600329,中新药业,14.83,+1.10,+8.01%,+7.00%,1159.16万,1.68
亿,2.05%,18.90,2.16%,114.61亿
SZ002204,⼤连᯿⼯,5.71,+0.41,+7.74%,+77.88%,1.73亿,9.35
亿,8.97%,213.83,0.55%,110.28亿
SH688088,虹软科技,84.16,+5.96,+7.62%,+78.12%,290.59万,2.43
亿,7.22%,148.96,-,341.69亿
SZ300398,⻜凯材料,21.33,+1.50,+7.56%,+42.68%,2676.82万,5.65
亿,6.21%,47.18,0.00%,110.41亿
SZ300298,三诺⽣物,21.93,+1.53,+7.50%,+48.45%,832.56万,1.80
亿,1.89%,46.66,1.44%,123.97亿
SH603236,移远通信,235.40,+16.09,+7.34%,+61.34%,96.10万,2.22
亿,4.31%,151.64,0.22%,209.93亿
SZ002074,国轩⾼科,26.93,+1.79,+7.12%,+85.09%,3628.58万,9.54亿,3.60%,亏
损,0.00%,304.25亿
SZ000710,⻉瑞基因,51.27,+3.37,+7.04%,+40.08%,411.57万,2.09
亿,2.91%,63.69,0.00%,181.81亿
SZ300624,万兴科技,95.86,+6.28,+7.01%,+51.92%,374.27万,3.54
亿,7.52%,84.07,0.38%,77.91亿
SZ300002,神州泰岳,6.42,+0.41,+6.82%,+96.93%,9118.57万,5.66亿,5.59%,亏
损,0.00%,126.10亿
SH603012,创⼒集团,7.30,+0.46,+6.73%,-18.16%,2648.28万,1.92
亿,4.16%,15.57,1.01%,46.47亿
SZ300144,宋城演艺,31.70,+1.98,+6.66%,+2.56%,980.92万,3.08
亿,0.82%,45.22,0.66%,460.77亿
SZ300724,捷佳伟创,67.58,+4.18,+6.59%,+78.36%,223.02万,1.48
亿,1.31%,57.75,0.28%,216.70亿
SZ200706,瓦轴B,2.27,+0.14,+6.57%,-21.99%,25.88万,57.83万,0.16%,亏损,0.00%,9.18亿
SH603693,江苏新能,12.10,+0.74,+6.51%,+18.86%,2377.38万,2.87
亿,12.32%,19.47,1.32%,74.78亿
SZ200468,宁通信B,1.82,+0.11,+6.43%,-26.32%,53.22万,96.40万,0.53%,亏损,0.00%,3.89
亿
SH600426,华鲁恒升,18.11,+1.09,+6.40%,-8.86%,1369.76万,2.46
亿,0.85%,13.16,2.05%,294.59亿
SH900953,凯⻢B,0.334,+0.020,+6.37%,-30.13%,186.93万,63.29
万,0.78%,236.41,0.00%,2.14亿
SH600703,三安光电,25.15,+1.50,+6.34%,+36.98%,1.08亿,26.73
亿,2.65%,95.77,0.42%,1025.72亿
SZ300118,东⽅⽇升,12.75,+0.74,+6.16%,-7.94%,3686.23万,4.68
亿,5.29%,13.57,1.63%,114.92亿
SZ300418,昆仑万维,22.25,+1.29,+6.15%,+32.84%,3641.22万,8.00
亿,4.03%,18.07,0.12%,257.36亿
SH900929,锦旅B股,1.214,+0.070,+6.12%,-25.52%,36.05万,43.02
万,0.55%,19.81,0.00%,1.61亿
SZ300496,中科创达,60.79,+3.49,+6.09%,+34.99%,1062.96万,6.40
亿,3.75%,96.33,0.22%,244.69亿
SH600818,中路股份,12.36,+0.71,+6.09%,+3.69%,921.26万,1.15亿,3.87%,亏
损,0.00%,39.73亿
SZ300644,南京聚隆,35.19,+2.01,+6.06%,+18.64%,872.06万,3.12
亿,21.10%,79.62,0.55%,22.53亿
SZ300729,乐歌股份,24.18,+1.38,+6.05%,+3.50%,204.82万,4889.15
万,8.14%,31.62,1.31%,21.09亿
SZ300767,震安科技,108.58,+6.16,+6.01%,+79.44%,146.41万,1.57
亿,3.19%,92.38,0.21%,86.86亿
SH603179,DR新泉股,19.30,+1.08,+5.93%,+35.50%,147.38万,2833.24
万,0.65%,35.11,2.25%,56.76亿
SH603626,科森科技,11.27,+0.63,+5.92%,+8.47%,466.11万,5187.87万,1.01%,亏
损,0.00%,53.30亿
SZ300019,硅宝科技,9.50,+0.53,+5.91%,-6.13%,423.46万,3943.10
万,1.55%,24.58,1.65%,31.40亿
SZ002756,永兴材料,16.18,+0.90,+5.89%,-7.34%,247.83万,3910.01
万,1.34%,18.38,2.98%,58.21亿
SZ002498,汉缆股份,6.11,+0.34,+5.89%,+102.99%,2.01亿,12.04
亿,6.05%,43.98,0.62%,202.93亿
SZ002980,华盛昌,62.41,+3.46,+5.87%,+319.14%,969.65万,5.99亿,29.09%,51.97,-,83.21
亿
SZ002371,北⽅华创,176.88,+9.80,+5.87%,+101.00%,1006.35万,17.45
亿,2.20%,276.58,0.04%,875.76亿
SZ300139,晓程科技,8.71,+0.48,+5.83%,+0.23%,4423.87万,3.82亿,20.11%,亏
损,0.00%,23.84亿
SZ000636,⻛华⾼科,24.51,+1.33,+5.74%,+64.61%,5605.61万,13.61
亿,6.26%,71.71,0.00%,219.42亿
SZ000564,供销⼤集,4.06,+0.22,+5.73%,+69.87%,2.98亿,11.89亿,14.86%,亏
损,0.00%,244.52亿
SZ002612,朗姿股份,7.84,+0.42,+5.66%,-19.34%,540.71万,4191.22
万,2.31%,1224.17,4.23%,34.69亿
SH600176,中国巨⽯,9.39,+0.50,+5.62%,-13.85%,3256.19万,3.02
亿,0.93%,16.97,2.14%,328.87亿
SH603313,梦百合,24.10,+1.28,+5.61%,+14.16%,356.10万,8446.14
万,1.05%,21.72,0.00%,82.23亿
SZ300279,和晶科技,5.49,+0.29,+5.58%,-8.50%,2328.20万,1.31亿,5.33%,亏
损,0.00%,24.65亿</code></pre>
<h2 id="（二）需求"><a href="#（二）需求" class="headerlink" title="（二）需求"></a>（二）需求</h2><p>1、程序启动后，给⽤户提供查询接⼝，允许⽤户᯿复查股票⾏情信息(⽤到循环)<br>2、允许⽤户通过模糊查询股票名，⽐如输⼊“啤酒”, 就把所有股票名称中包含“啤酒”的信息打印出来<br>3、允许按股票价格、涨跌幅、换⼿率这⼏列来筛选信息，⽐如输⼊“价格&gt;50”则把价格⼤于50的股票都打印，输⼊“市盈率&lt;50“，则把市盈率⼩于50的股票都打印，不⽤判断等于<br> &amp;emsp;<strong>思路提示：加载⽂件内容到内存，转成dict or list结构，然后对dict or list 进⾏查询等操作。 这样以后就不⽤每查⼀次就要打开⼀次⽂件了，效率会⾼。</strong></p>
<h4 id="程序启动后执⾏效果参考："><a href="#程序启动后执⾏效果参考：" class="headerlink" title="程序启动后执⾏效果参考："></a>程序启动后执⾏效果参考：</h4><pre class="language-python" data-language="python"><code class="language-python">股票查询接⼝&gt;&gt;:换⼿率&gt;25
[&#39;序号&#39;, &#39;代码&#39;, &#39;名称&#39;, &#39;最新价&#39;, &#39;涨跌幅&#39;, &#39;涨跌额&#39;, &#39;成交量(⼿)&#39;, &#39;成交额&#39;, &#39;振幅&#39;,
&#39;最⾼&#39;, &#39;最低&#39;, &#39;今开&#39;, &#39;昨收&#39;, &#39;量⽐&#39;, &#39;换⼿率&#39;, &#39;市盈率&#39;, &#39;市净率&#39;]
[&#39;18&#39;, &#39;603697&#39;, &#39;有友⻝品&#39;, &#39;22.73&#39;, &#39;10.02%&#39;, &#39;2.07&#39;, &#39;34.93万&#39;, &#39;7.68亿&#39;,
&#39;8.23%&#39;, &#39;22.73&#39;, &#39;21.03&#39;, &#39;21.17&#39;, &#39;20.66&#39;, &#39;1.4&#39;, &#39;43.94%&#39;, &#39;38.1&#39;, &#39;4.66&#39;]
[&#39;23&#39;, &#39;603956&#39;, &#39;威派格&#39;, &#39;22.52&#39;, &#39;10.01%&#39;, &#39;2.05&#39;, &#39;18.33万&#39;, &#39;4.01亿&#39;,
&#39;10.60%&#39;, &#39;22.52&#39;, &#39;20.35&#39;, &#39;20.35&#39;, &#39;20.47&#39;, &#39;2.16&#39;, &#39;43.02%&#39;, &#39;-&#39;, &#39;9.82&#39;]
[&#39;36&#39;, &#39;300748&#39;, &#39;⾦⼒永磁&#39;, &#39;59.7&#39;, &#39;10.01%&#39;, &#39;5.43&#39;, &#39;11.02万&#39;, &#39;6.38亿&#39;,
&#39;6.98%&#39;, &#39;59.7&#39;, &#39;55.91&#39;, &#39;56.88&#39;, &#39;54.27&#39;, &#39;0.9&#39;, &#39;26.49%&#39;, &#39;234.09&#39;,
&#39;23.54&#39;]
[&#39;37&#39;, &#39;300767&#39;, &#39;震安科技&#39;, &#39;41.13&#39;, &#39;10.00%&#39;, &#39;3.74&#39;, &#39;6.22万&#39;, &#39;2.49亿&#39;,
&#39;10.32%&#39;, &#39;41.13&#39;, &#39;37.27&#39;, &#39;37.48&#39;, &#39;37.39&#39;, &#39;3.86&#39;, &#39;31.11%&#39;, &#39;43.32&#39;,
&#39;3.68&#39;]
[&#39;38&#39;, &#39;603045&#39;, &#39;福达合⾦&#39;, &#39;32&#39;, &#39;10.00%&#39;, &#39;2.91&#39;, &#39;17.06万&#39;, &#39;5.31亿&#39;,
&#39;9.87%&#39;, &#39;32&#39;, &#39;29.13&#39;, &#39;29.13&#39;, &#39;29.09&#39;, &#39;1.39&#39;, &#39;25.17%&#39;, &#39;52.74&#39;, &#39;4.02&#39;]
[&#39;39&#39;, &#39;2952&#39;, &#39;亚世光电&#39;, &#39;58.98&#39;, &#39;10.00%&#39;, &#39;5.36&#39;, &#39;4.18万&#39;, &#39;2.41亿&#39;,
&#39;7.42%&#39;, &#39;58.98&#39;, &#39;55&#39;, &#39;55.91&#39;, &#39;53.62&#39;, &#39;3.04&#39;, &#39;27.44%&#39;, &#39;53.09&#39;, &#39;5.51&#39;]
找到6条
股票查询接⼝&gt;&gt;:最新价&lt;5
[&#39;序号&#39;, &#39;代码&#39;, &#39;名称&#39;, &#39;最新价&#39;, &#39;涨跌幅&#39;, &#39;涨跌额&#39;, &#39;成交量(⼿)&#39;, &#39;成交额&#39;, &#39;振幅&#39;,
&#39;最⾼&#39;, &#39;最低&#39;, &#39;今开&#39;, &#39;昨收&#39;, &#39;量⽐&#39;, &#39;换⼿率&#39;, &#39;市盈率&#39;, &#39;市净率&#39;]
[&#39;2&#39;, &#39;2676&#39;, &#39;顺威股份&#39;, &#39;3.69&#39;, &#39;10.15%&#39;, &#39;0.34&#39;, &#39;15.23万&#39;, &#39;5516万&#39;,
&#39;9.55%&#39;, &#39;3.69&#39;, &#39;3.37&#39;, &#39;3.37&#39;, &#39;3.35&#39;, &#39;1.16&#39;, &#39;2.11%&#39;, &#39;-&#39;, &#39;2.58&#39;]
[&#39;3&#39;, &#39;601619&#39;, &#39;嘉泽新能&#39;, &#39;4.91&#39;, &#39;10.09%&#39;, &#39;0.45&#39;, &#39;16.55万&#39;, &#39;8006万&#39;,
&#39;8.52%&#39;, &#39;4.91&#39;, &#39;4.53&#39;, &#39;4.54&#39;, &#39;4.46&#39;, &#39;1.82&#39;, &#39;3.28%&#39;, &#39;52.26&#39;, &#39;3.64&#39;]
找到2条
股票查询接⼝&gt;&gt;:⻝品
[&#39;18&#39;, &#39;603697&#39;, &#39;有友⻝品&#39;, &#39;22.73&#39;, &#39;10.02%&#39;, &#39;2.07&#39;, &#39;34.93万&#39;, &#39;7.68亿&#39;,
&#39;8.23%&#39;, &#39;22.73&#39;, &#39;21.03&#39;, &#39;21.17&#39;, &#39;20.66&#39;, &#39;1.4&#39;, &#39;43.94%&#39;, &#39;38.1&#39;, &#39;4.66&#39;]
找到1条
股票查询接⼝&gt;&gt;:能源
[&#39;9&#39;, &#39;2828&#39;, &#39;⻉肯能源&#39;, &#39;14.25&#39;, &#39;10.04%&#39;, &#39;1.3&#39;, &#39;17.83万&#39;, &#39;2.52亿&#39;,
&#39;4.71%&#39;, &#39;14.25&#39;, &#39;13.64&#39;, &#39;13.8&#39;, &#39;12.95&#39;, &#39;3.45&#39;, &#39;18.03%&#39;, &#39;-&#39;, &#39;3.08&#39;]
找到1条
股票查询接⼝&gt;&gt;:科技
[&#39;12&#39;, &#39;2866&#39;, &#39;传艺科技&#39;, &#39;13.81&#39;, &#39;10.04%&#39;, &#39;1.26&#39;, &#39;13.59万&#39;, &#39;1.83亿&#39;,
&#39;9.72%&#39;, &#39;13.81&#39;, &#39;12.59&#39;, &#39;12.61&#39;, &#39;12.55&#39;, &#39;2.63&#39;, &#39;16.86%&#39;, &#39;33.37&#39;,
&#39;3.43&#39;]
[&#39;19&#39;, &#39;300777&#39;, &#39;中简科技&#39;, &#39;24.92&#39;, &#39;10.02%&#39;, &#39;2.27&#39;, &#39;5952&#39;, &#39;1483万&#39;,
&#39;0.00%&#39;, &#39;24.92&#39;, &#39;24.92&#39;, &#39;24.92&#39;, &#39;22.65&#39;, &#39;3.45&#39;, &#39;1.49%&#39;, &#39;102.24&#39;,
&#39;11.49&#39;]
[&#39;21&#39;, &#39;300245&#39;, &#39;天玑科技&#39;, &#39;11.53&#39;, &#39;10.02%&#39;, &#39;1.05&#39;, &#39;26.86万&#39;, &#39;3.05亿&#39;,
&#39;9.64%&#39;, &#39;11.53&#39;, &#39;10.52&#39;, &#39;10.52&#39;, &#39;10.48&#39;, &#39;1.06&#39;, &#39;10.35%&#39;, &#39;127.47&#39;,
&#39;2.57&#39;]
[&#39;26&#39;, &#39;300391&#39;, &#39;康跃科技&#39;, &#39;7.8&#39;, &#39;10.01%&#39;, &#39;0.71&#39;, &#39;3.9万&#39;, &#39;3027万&#39;,
&#39;10.01%&#39;, &#39;7.8&#39;, &#39;7.09&#39;, &#39;7.09&#39;, &#39;7.09&#39;, &#39;0.75&#39;, &#39;1.94%&#39;, &#39;27.35&#39;, &#39;1.89&#39;]
[&#39;37&#39;, &#39;300767&#39;, &#39;震安科技&#39;, &#39;41.13&#39;, &#39;10.00%&#39;, &#39;3.74&#39;, &#39;6.22万&#39;, &#39;2.49亿&#39;,
&#39;10.32%&#39;, &#39;41.13&#39;, &#39;37.27&#39;, &#39;37.48&#39;, &#39;37.39&#39;, &#39;3.86&#39;, &#39;31.11%&#39;, &#39;43.32&#39;,
&#39;3.68&#39;]
[&#39;40&#39;, &#39;603327&#39;, &#39;福蓉科技&#39;, &#39;21.56&#39;, &#39;10.00%&#39;, &#39;1.96&#39;, &#39;3586&#39;, &#39;773.1万&#39;,
&#39;0.00%&#39;, &#39;21.56&#39;, &#39;21.56&#39;, &#39;21.56&#39;, &#39;19.6&#39;, &#39;2.81&#39;, &#39;0.70%&#39;, &#39;31.97&#39;, &#39;8.05&#39;]
找到6条</code></pre>

<h2 id="（三）代码"><a href="#（三）代码" class="headerlink" title="（三）代码"></a>（三）代码</h2><pre class="language-python" data-language="python"><code class="language-python"># 1、导入用户数据
user_info &#x3D; open(&#39;stock_data&#39;, encoding&#x3D;&#39;utf-8&#39;)

# 2、将数据转化成字典，key为用户名，value为一个字典，包含&#123;股票代码：，名称：，当前价：...&#125;
info_dic &#x3D; &#123;
    # &#39;SH601778&#39;：&#123;&#39;股票名称&#39;: &#39;N晶科&#39;, &#39;当前价&#39;: &#39;6.29&#39;, &#39;涨跌幅&#39;: &#39;+1.92&#39;... &#125;,
    # &#39;SHxxxxxx&#39;:&#123;&#39;股票名称&#39;: &#39;xxx&#39;, &#39;当前价&#39;: &#39;x.xx&#39;, &#39;涨跌幅&#39;: &#39;xxxxx&#39;... &#125;
&#125;

# 遍历每一行
for line in user_info:
    # print(line)
    stock &#x3D; line.strip().split(&#39;,&#39;)  # 先用strip()去掉回车（&#39;\n&#39;），再用split()按逗号进行分割
    # print(stock)
    # print(len(stock))
    info_dic[stock[0]] &#x3D; &#123;
        &#39;股票名称&#39;: stock[1],
        &#39;当前价&#39;: stock[2],
        &#39;涨跌额&#39;: stock[3],
        &#39;涨跌幅&#39;: stock[4],
        &#39;年初⾄今&#39;: stock[5],
        &#39;成交量&#39;: stock[6],
        &#39;成交额&#39;: stock[7],
        &#39;换⼿率&#39;: stock[8],
        &#39;市盈率(TTM)&#39;: stock[9],
        &#39;股息率&#39;: stock[10],
        &#39;市值&#39;: stock[11],
    &#125;
# print(info_dic)
# 删除第一行
del info_dic[&#39;股票代码&#39;]

count &#x3D; 0
while True:
    user_input &#x3D; input(&#39;股票查询接口&gt;&gt;：&#39;)

    # 输入e以退出程序
    if user_input &#x3D;&#x3D; &#39;e&#39;:
        exit(&#39;bye!&#39;)

    # 解决查询问题
    for stock in info_dic:
        # 如果查询股票信息则直接打印，支持模糊查询
        # print(info_dic[stock][&#39;股票名称&#39;])
        if user_input in info_dic[stock][&#39;股票名称&#39;]:
            print(info_dic[stock])
            count +&#x3D; 1

       
    print(f&#39;共找到&#123;count&#125;条记录&#39;)</code></pre>
<p>※ 目前只完成字符串查询问题，未完成含有表达式的查询</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Gengtianba</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://gengtianba.github.io/2022/05/08/python-ru-men-dao-jing-tong-4/">https://gengtianba.github.io/2022/05/08/python-ru-men-dao-jing-tong-4/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Gengtianba</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/python/">
                                    <span class="chip bg-color">python</span>
                                </a>
                            
                                <a href="/tags/%E7%AC%94%E8%AE%B0/">
                                    <span class="chip bg-color">笔记</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="qq,wechat,weibo,douban,qzone,linkedin,twitter,facebook,google" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: '9YyPLPh0zyJlFMB2ciHdondz-gzGzoHsz',
        appKey: 'naTQJa37tbxowE4Gm70MF9b6',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/05/11/python-ru-men-dao-jing-tong-5/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/12.jpg" class="responsive-img" alt="day5-函数编程">
                        
                        <span class="card-title">day5-函数编程</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本文章为金角大王Alex《Python零基础到精通7天速成》视频笔记视频链接:Python零基础到精通7天速成
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-05-11
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%88%B0%E7%B2%BE%E9%80%9A7%E5%A4%A9%E9%80%9F%E6%88%90/" class="post-category">
                                    Python零基础到精通7天速成
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/python/">
                        <span class="chip bg-color">python</span>
                    </a>
                    
                    <a href="/tags/%E7%AC%94%E8%AE%B0/">
                        <span class="chip bg-color">笔记</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/05/05/python-ru-men-dao-jing-tong-3/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/13.jpg" class="responsive-img" alt="day3-顺丰快递分拣小程序">
                        
                        <span class="card-title">day3-顺丰快递分拣小程序</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本文章为金角大王Alex《Python零基础到精通7天速成》视频笔记视频链接:Python零基础到精通7天速成
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-05-05
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%88%B0%E7%B2%BE%E9%80%9A7%E5%A4%A9%E9%80%9F%E6%88%90/" class="post-category">
                                    Python零基础到精通7天速成
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/python/">
                        <span class="chip bg-color">python</span>
                    </a>
                    
                    <a href="/tags/%E7%AC%94%E8%AE%B0/">
                        <span class="chip bg-color">笔记</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022</span>
            
            <span id="year">2022</span>
            <a href="/about" target="_blank">Gengtianba</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/gengtianba" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1138798275@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1138798275" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1138798275" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
