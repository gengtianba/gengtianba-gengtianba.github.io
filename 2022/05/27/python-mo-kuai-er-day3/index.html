<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python模块二day3, Gengtianba&#39;s Blog">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Python模块二day3 | Gengtianba&#39;s Blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Gengtianba's Blog" type="application/atom+xml">
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Gengtianba&#39;s Blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Gengtianba&#39;s Blog</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/17.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python模块二day3</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E7%AC%94%E8%AE%B0/">
                                <span class="chip bg-color">笔记</span>
                            </a>
                        
                            <a href="/tags/python/">
                                <span class="chip bg-color">python</span>
                            </a>
                        
                            <a href="/tags/%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/">
                                <span class="chip bg-color">第一阶段</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E8%B7%AF%E9%A3%9E%E5%AD%A6%E9%99%A2/" class="post-category">
                                路飞学院
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-05-27
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    13.7k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    72 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="第二模块-函数-amp-模块"><a href="#第二模块-函数-amp-模块" class="headerlink" title="第二模块 函数&amp;模块"></a>第二模块 函数&amp;模块</h1><p>​		从今天开始，我们将进入系列课程第二模块的的学习。第一模块主要是学习python基础知识，从第二模块开始就可以通过程序去解决工作中实际的问题。</p>
<p><img src="/asserts/image-20201216140222926.png" alt="image-20201216140222926"></p>
<p>从今天开始，我们将进入第二模块的学习，此模块主要包含两大部分：</p>
<ul>
<li><p><font color="#dd0000">函数，一个用于专门实现某个功能的代码块（可重用）。</font></p>
<ul>
<li><p>内置函数</p>
<pre class="language-none"><code class="language-none">len、bin、oct、hex 等</code></pre>
</li>
<li><p>自定义函数</p>
<pre class="language-python" data-language="python"><code class="language-python"># 定义函数
def send_email():
    # 写了10行代码，实现了发送邮件。
    pass

# 调用函数
send_email()</code></pre></li>
</ul>
</li>
<li><p><font color="#dd0000">模块，集成了很多功能的函数集合。</font></p>
<ul>
<li><p>内置模块，Python内部帮助我们提供好的。</p>
<pre class="language-python" data-language="python"><code class="language-python">import random

num &#x3D; random.randint(0,19)</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">import decimal

v1 &#x3D; decimal.Decimal(&quot;0.1&quot;)
v2 &#x3D; decimal.Decimal(&quot;0.2&quot;)
v3 &#x3D; v1 + v2
print(v3) # 0.3</code></pre>
</li>
<li><p>第三方模块，网上下载别人写好的模块（功能集合）。</p>
</li>
<li><p>自定义模块</p>
</li>
</ul>
</li>
</ul>
<h1 id="九、-文件操作相关"><a href="#九、-文件操作相关" class="headerlink" title="九、 文件操作相关"></a>九、 文件操作相关</h1><p><img src="/asserts/image-20201216175307239.png" alt="image-20201216175307239"></p>
<p>课程目标：</p>
<p>​		掌握基于Python对文件相关操作。</p>
<p>课程概要：</p>
<ul>
<li>文件操作</li>
<li>文件夹和路径</li>
<li>csv格式文件</li>
<li>ini格式文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </li>
<li>xml格式文件</li>
<li>excel文件</li>
<li>压缩文件</li>
</ul>
<p>​		注意：每种格式包含很多相关操作，大家在学习的过程中只要掌握知识点的用法，<font color="#dd0000">参考笔记可以实现相关的练习即可，不必背会（在企业开发过程中也是边搜边实现。）</font></p>
<h2 id="1-文件操作"><a href="#1-文件操作" class="headerlink" title="1. 文件操作"></a>1. 文件操作</h2><p>​		在学习文件操作之前，先来回顾一下编码的相关以及先关数据类型的知识。</p>
<ul>
<li><p>字符串类型（str），在程序中用于表示文字信息，<strong>本质上是unicode编码中的二进制</strong>。</p>
<pre class="language-python" data-language="python"><code class="language-python">name &#x3D; &quot;武沛齐&quot;</code></pre>
</li>
<li><p>字节类型（bytes）</p>
<ul>
<li><p>可表示文字信息，<strong>本质上是utf-8&#x2F;gbk等编码的二进制</strong>（对unicode进行压缩，方便文件存储和网络传输。）</p>
<pre class="language-python" data-language="python"><code class="language-python">name &#x3D; &quot;武沛齐&quot;
data &#x3D; name.encode(&#39;utf-8&#39;)
print(data) # b&#39;\xe6\xad\xa6\xe6\xb2\x9b\xe9\xbd\x90&#39;

result &#x3D; data.decode(&#39;utf-8&#39;)
print(result) # &quot;武沛齐&quot;</code></pre>
</li>
<li><p>可表示原始二进制（图片、文件等信息）</p>
</li>
</ul>
</li>
</ul>
<h3 id="1-1-读文件"><a href="#1-1-读文件" class="headerlink" title="1.1 读文件"></a>1.1 读文件</h3><ul>
<li><p>读文本文件</p>
<pre class="language-python" data-language="python"><code class="language-python"># 1.打开文件
#	- 路径：
#		相对路径：&#39;info.txt&#39;
#		绝对路径：&#39;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;info.txt&#39;
# 	- 模式
# 		rb，表示读取文件原始的二进制（r, 读 read；b, 二进制 binary；）
# 1.打开文件
file_object &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rb&#39;)
# 2.读取文件内容，并赋值给data
data &#x3D; file_object.read()
# 3.关闭文件
file_object.close()

print(data) # b&#39;alex-123\n\xe6\xad\xa6\xe6\xb2\x9b\xe9\xbd\x90-123&#39;

# 4.将unicode编码解码成&#39;utf-8&#39;
text &#x3D; data.decode(&quot;utf-8&quot;)
print(text)
</code></pre>

<p><font color="#dd0000"><strong>上面代码的简化</strong></font></p>
<pre class="language-python" data-language="python"><code class="language-python"># 1.打开文件
file_object &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;)

# 2.读取文件内容，并赋值给data
data &#x3D; file_object.read()

# 3.关闭文件
file_object.close()

print(data)</code></pre>


</li>
<li><p>读图片等非文本内容文件。</p>
<pre class="language-python" data-language="python"><code class="language-python">file_object &#x3D; open(&#39;a1.png&#39;, mode&#x3D;&#39;rb&#39;)
data &#x3D; file_object.read()
file_object.close()

print(data) # \x91\xf6\xf2\x83\x8aQFfv\x8b7\xcc\xed\xc3&#125;\x7fT\x9d&#123;.3.\xf1&#123;\xe8\...</code></pre></li>
</ul>
<p>注意事项：</p>
<ul>
<li><p><font color="#dd0000">路径</font></p>
<ul>
<li><p><font color="#dd0000">相对路径，你的程序到底在哪里运行的？</font></p>
<p><img src="/asserts/image-20201217140130973.png" alt="image-20201217140130973"></p>
<p><img src="/asserts/image-20201217140237160.png" alt="image-20201217140237160"></p>
</li>
<li><p><font color="#dd0000">绝对路径</font></p>
<pre class="language-python" data-language="python"><code class="language-python"># 1.打开文件
file_object &#x3D; open(&#39;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;info.txt&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;)
# 2.读取文件内容，并赋值给data
data &#x3D; file_object.read()
# 3.关闭文件
file_object.close()</code></pre>

<p>windows系统中写绝对路径容易出问题：</p>
<pre class="language-python" data-language="python"><code class="language-python"># file_object &#x3D; open(&#39;C:\\new\\info.txt&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;)

file_object &#x3D; open(r&#39;C:\new\info.txt&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;)
data &#x3D; file_object.read()
file_object.close()
print(data)</code></pre></li>
</ul>
</li>
<li><p>读文件时，文件不存在程序会报错。</p>
<pre class="language-python" data-language="python"><code class="language-python">Traceback (most recent call last):
  File &quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;2.读文件.py&quot;, line 2, in &lt;module&gt;
    file_object &#x3D; open(&#39;infower.txt&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;)
FileNotFoundError: [Errno 2] No such file or directory: &#39;infower.txt&#39;</code></pre>

<p>​		<strong>判断路径是否存在？</strong></p>
<pre class="language-python" data-language="python"><code class="language-python">import os

exists &#x3D; os.path.exists(&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;info.txt&quot;)
print(exists)  # 存在：True  不存在：False</code></pre>

<pre class="language-python" data-language="python"><code class="language-python"># 案例
import os

file_path &#x3D; &quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;info.txt&quot;
exists &#x3D; os.path.exists(file_path)
if exists:
    # 1.打开文件
    file_object &#x3D; open(&#39;infower.txt&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;)
    # 2.读取文件内容，并赋值给data
    data &#x3D; file_object.read()
    # 3.关闭文件
    file_object.close()
    print(data)
else:
    print(&quot;文件不存在&quot;)</code></pre></li>
</ul>
<h3 id="1-2-写文件"><a href="#1-2-写文件" class="headerlink" title="1.2 写文件"></a>1.2 写文件</h3><ul>
<li><p>写文本文件</p>
<pre class="language-python" data-language="python"><code class="language-python"># 1.打开文件
file_object &#x3D; open(&quot;t1.txt&quot;, mode&#x3D;&#39;wt&#39;, encoding&#x3D;&#39;utf-8&#39;)

# 2.写入内容
file_object.write(&quot;武沛齐&quot;)

# 3.文件关闭
file_object.close()</code></pre>
</li>
<li><p>写图片等文件</p>
<pre class="language-python" data-language="python"><code class="language-python">f1 &#x3D; open(&#39;a1.png&#39;,mode&#x3D;&#39;rb&#39;)
content &#x3D; f1.read()
f1.close()

f2 &#x3D; open(&#39;a2.png&#39;,mode&#x3D;&#39;wb&#39;)
f2.write(content)
f2.close()</code></pre></li>
</ul>
<p>基础案例：</p>
<pre class="language-python" data-language="python"><code class="language-python"># 案例1：用户注册
&quot;&quot;&quot;
user &#x3D; input(&quot;请输入用户名：&quot;)
pwd &#x3D; input(&quot;请输入密码：&quot;)
data &#x3D; &quot;&#123;&#125;-&#123;&#125;&quot;.format(user, pwd)
file_object &#x3D; open(&quot;files&#x2F;info.txt&quot;, mode&#x3D;&#39;wt&#39;, encoding&#x3D;&#39;utf-8&#39;)
file_object.write(data)
file_object.close()
&quot;&quot;&quot;

# 案例2：多用户注册
&quot;&quot;&quot;
# w写入文件，先清空文件；再在文件中写入内容。
file_object &#x3D; open(&quot;files&#x2F;info.txt&quot;, mode&#x3D;&#39;wt&#39;, encoding&#x3D;&#39;utf-8&#39;)
while True:
    user &#x3D; input(&quot;请输入用户名（输入Q&#x2F;q退出）：&quot;)
    if user.upper() &#x3D;&#x3D; &quot;Q&quot;:
        break
    pwd &#x3D; input(&quot;请输入密码：&quot;)
    data &#x3D; &quot;&#123;&#125;-&#123;&#125;\n&quot;.format(user, pwd)

    file_object.write(data)
file_object.close()
&quot;&quot;&quot;</code></pre>

<p>小高级案例：（超前）</p>
<blockquote>
<p>利用Python想某个网址发送请求并获取结果（利用第三方的模块）</p>
<ul>
<li><p>下载第三方模块</p>
<pre class="language-none"><code class="language-none">pip install requests</code></pre>

<pre class="language-none"><code class="language-none">&#x2F;Library&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.9&#x2F;bin&#x2F;pip3 install requests</code></pre>

<p><img src="/asserts/image-20201217152358142.png" alt="image-20201217152358142"></p>
</li>
<li><p>使用第三方模块</p>
<pre class="language-python" data-language="python"><code class="language-python">import requests

res &#x3D; requests.get(url&#x3D;&quot;网址&quot;)
print(res)</code></pre></li>
</ul>
</blockquote>
<pre class="language-python" data-language="python"><code class="language-python"># 案例1：去网上下载一点文本，文本信息写入文件。
import requests

res &#x3D; requests.get(
    url&#x3D;&quot;https:&#x2F;&#x2F;movie.douban.com&#x2F;j&#x2F;search_subjects?type&#x3D;movie&amp;tag&#x3D;%E7%83%AD%E9%97%A8&amp;sort&#x3D;recommend&amp;page_limit&#x3D;20&amp;page_start&#x3D;20&quot;,
    headers&#x3D;&#123;
        &quot;User-Agent&quot;: &quot;Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36&quot;
    &#125;
)

# 网络传输的原始二进制信息（bytes）
# res.content

file_object &#x3D; open(&#39;files&#x2F;log1.txt&#39;, mode&#x3D;&#39;wb&#39;)
file_object.write(res.content)
file_object.close()



# 案例2：去网上下载一张图片，图片写入本地文件。
import requests

res &#x3D; requests.get(
    url&#x3D;&quot;https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;c7e1461e4b15735fbe625c4dc85bd19904d96daf6de9fb-tosv1r_fw1200&quot;,
    headers&#x3D;&#123;
        &quot;User-Agent&quot;: &quot;Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36&quot;
    &#125;
)

# 网络传输的原始二进制信息（bytes）
# res.content

file_object &#x3D; open(&#39;files&#x2F;美女.png&#39;, mode&#x3D;&#39;wb&#39;)
file_object.write(res.content)
file_object.close()</code></pre>



<p><strong>注意事项：</strong></p>
<ul>
<li>路径<ul>
<li>绝对路径</li>
<li>相对路径</li>
</ul>
</li>
<li>文件不存在时，w模式会新建然后再写入内容；文件存在时，w模式会清空文件再写入内容。</li>
</ul>
<h3 id="1-3-文件打开模式"><a href="#1-3-文件打开模式" class="headerlink" title="1.3 文件打开模式"></a>1.3 文件打开模式</h3><p>上文我们基于文件操作基本实现了读、写的功能，其中涉及的文件操作模式：rt、rb、wt、wb，其实在文件操作中还有其他的很多模式。</p>
<pre class="language-none"><code class="language-none">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
Character Meaning
--------- ---------------------------------------------------------------
&#39;r&#39;       open for reading (default)
&#39;w&#39;       open for writing, truncating the file first
&#39;x&#39;       create a new file and open it for writing
&#39;a&#39;       open for writing, appending to the end of the file if it exists

&#39;b&#39;       binary mode
&#39;t&#39;       text mode (default)

&#39;+&#39;       open a disk file for updating (reading and writing)

The default mode is &#39;rt&#39; (open for reading text).</code></pre>

<p>关于文件的打开模式常见应用有：</p>
<ul>
<li><p>只读：<code>r</code>&#x3D;&#x3D;<code>rt</code>（读文本）、<code>rb</code> （读二进制）（用）</p>
<ul>
<li>存在，读</li>
<li>不存在，报错</li>
</ul>
</li>
<li><p>只写：<code>w</code>&#x3D;&#x3D;<code>wt</code>、<code>wb</code>（用）</p>
<ul>
<li>存在，清空再写</li>
<li>不存在，创建再写</li>
</ul>
</li>
<li><p>只写：<code>x</code>&#x3D;&#x3D;<code>xt</code>、<code>xb</code>（几乎不用）</p>
<ul>
<li>存在，报错</li>
<li>不存在，创建再写。</li>
</ul>
</li>
<li><p>只写：<code>a</code>&#x3D;&#x3D;<code>at</code>、<code>ab</code>【尾部追加】（用）</p>
<ul>
<li>存在，尾部追加。</li>
<li>不存在，创建再写。</li>
</ul>
</li>
<li><p>读写</p>
<ul>
<li><p>r+&#x3D;&#x3D;rt+、rb+，<font color="#dd0000"><strong>默认光标位置：起始位置</strong></font></p>
<pre class="language-python" data-language="python"><code class="language-python">&#39;&#39;&#39;info.txt
alex-666
&#39;&#39;&#39;

file_object &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rt+&#39;, encoding&#x3D;&#39;utf-8&#39;)

# 读取内容
data &#x3D; file_object.read()
print(data)  # &#39;alex-666&#39;

# 写入内容
file_object.write(&quot;你好呀&quot;)

file_object.close()  # info.txt:alex-666你好呀</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">&#39;&#39;&#39;info.txt
alex-666你好啊
&#39;&#39;&#39;
file_object &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rt+&#39;, encoding&#x3D;&#39;utf-8&#39;)

# 写入内容
file_object.write(&quot;eric&quot;)  

# 读取内容
data &#x3D; file_object.read()  
print(data)  # alex-666你好呀

file_object.close()  # info.txt:eric-666你好呀</code></pre>
</li>
<li><p>w+、wt+、wb+，<font color="#dd0000"><strong>默认光标位置：起始位置（清空文件）</strong></font></p>
<pre class="language-python" data-language="python"><code class="language-python">file_object &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;wt+&#39;)

# 读取内容
data &#x3D; file_object.read()
print(data)

# 写入内容
file_object.write(&quot;你好呀&quot;)

# 将光标位置重置起始
file_object.seek(0)

# 读取内容
data &#x3D; file_object.read()
print(data)

file_object.close()</code></pre>
</li>
<li><p>x+、xt+、xb+，默认光标位置：起始位置（新文件）</p>
</li>
<li><p>a+、at+、ab+，默认光标位置：<font color="#dd0000"><strong>末尾</strong></font></p>
<pre class="language-python" data-language="python"><code class="language-python">file_object &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;at+&#39;)

# 写入内容
file_object.write(&quot;武沛齐&quot;)

# 将光标位置重置起始
file_object.seek(0)

# 读取内容
data &#x3D; file_object.read()
print(data)

file_object.close()</code></pre></li>
</ul>
</li>
</ul>
<p>多用户注册案例：<strong>解决<code>mode=wt</code>每次运行文件出创建新数据的问题</strong></p>
<pre class="language-python" data-language="python"><code class="language-python">file_object &#x3D; open(&quot;files&#x2F;info.txt&quot;, mode&#x3D;&#39;at&#39;, encoding&#x3D;&#39;utf-8&#39;)

while True:
    user &#x3D; input(&quot;请输入用户名（输入Q&#x2F;q退出）：&quot;)
    if user.upper() &#x3D;&#x3D; &quot;Q&quot;:
        break
    pwd &#x3D; input(&quot;请输入密码：&quot;)
    data &#x3D; &quot;&#123;&#125;-&#123;&#125;\n&quot;.format(user, pwd)
    file_object.write(data)
    
file_object.close()</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">file_object &#x3D; open(&#39;files&#x2F;account.txt&#39;, mode&#x3D;&#39;a&#39;)

while True:
    user &#x3D; input(&quot;用户名：&quot;)
    if user.upper() &#x3D;&#x3D; &quot;Q&quot;:
        break
    pwd &#x3D; input(&quot;密码：&quot;)
    data &#x3D; &quot;&#123;&#125;-&#123;&#125;\n&quot;.format(user, pwd)
    file_object.write(data)

file_object.close()</code></pre>



<h3 id="1-4-常见功能"><a href="#1-4-常见功能" class="headerlink" title="1.4 常见功能"></a>1.4 常见功能</h3><p>​		在上述对文件的操作中，我们只使用了write和read来对文件进行读写，其实在文件操作中还有很多其他的功能来辅助实现更好的读写文件的内容。</p>
<ul>
<li><p>read，读</p>
<ul>
<li><p><font color="#dd0000"><strong>读所有【常用】</strong></font></p>
<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rt&#39;,encoding&#x3D;&#39;utf-8&#39;)
data &#x3D; f.read()
f.close()</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rb&#39;)
data &#x3D; f.read()
f.close()</code></pre>
</li>
<li><p><strong>读n个字符（rt）&#x2F;字节（rb）【会用到】</strong></p>
<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;)
# 读1个字符
data &#x3D; f.read(1)  # 只读取一个字符
f.close()

print(data， type(data)) # 武 &lt;class &#39;str&#39;&gt;</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rb&#39;)

# 读1个字节
data &#x3D; f.read(3)  # 只读取三个字节
f.close()

print(data, type(data))  # b&#39;\xe6\xad\xa6&#39; &lt;class &#39;bytes&#39;&gt;</code></pre></li>
</ul>
</li>
<li><p>readline，读一行</p>
<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;r&#39;, encoding&#x3D;&#39;utf-8&#39;)

v1 &#x3D; f.readline()
print(v1)

v2 &#x3D; f.readline()
print(v2)

f.close()</code></pre>
</li>
<li><p>readlines，读所有行，每行作为列表的一个元素</p>
<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rb&#39;)

data_list &#x3D; f.readlines()

f.close()

print(data_list)</code></pre>
</li>
<li><p><font color="#dd0000"><strong>循环，读大文件（readline加强版）【常见】</strong></font></p>
<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;r&#39;, encoding&#x3D;&#39;utf-8&#39;)
for line in f:
    print(line.strip())
f.close()</code></pre>


</li>
<li><p>write，写</p>
<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;a&#39;,encoding&#x3D;&#39;utf-8&#39;)
f.write(&quot;武沛齐&quot;)
f.close()</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;ab&#39;)
f.write( &quot;武沛齐&quot;.encode(&quot;utf-8&quot;) )
f.close()</code></pre>
</li>
<li><p>flush，刷到硬盘</p>
<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;a&#39;,encoding&#x3D;&#39;utf-8&#39;)

while True:
    # 不是写到了硬盘，而是写在缓冲区，系统会将缓冲区的内容刷到硬盘。
	f.write(&quot;武沛齐&quot;)
    
    # 立即将缓冲区的数据刷到硬盘
    f.flush()

f.close()</code></pre>

<p>多用户注册案例：<strong>解决write不会立即将数据存到硬盘的问题(flush（）)。</strong></p>
<pre class="language-python" data-language="python"><code class="language-python">file_object &#x3D; open(&quot;files&#x2F;info.txt&quot;, mode&#x3D;&#39;at&#39;, encoding&#x3D;&#39;utf-8&#39;)

while True:
    user &#x3D; input(&quot;请输入用户名（输入Q&#x2F;q退出）：&quot;)
    if user.upper() &#x3D;&#x3D; &quot;Q&quot;:
        break
    pwd &#x3D; input(&quot;请输入密码：&quot;)
    data &#x3D; &quot;&#123;&#125;-&#123;&#125;\n&quot;.format(user, pwd)
    file_object.write(data)
    # 立即将缓冲区的数据刷到硬盘
    file_object.flush() 
    
file_object.close()</code></pre>


</li>
<li><p>移动光标位置（<strong>字节：无论是wt还是wb</strong>）</p>
<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;r+&#39;, encoding&#x3D;&#39;utf-8&#39;)

# 移动到指定字节的位置
f.seek(3)
f.write(&quot;武沛齐&quot;)

f.close()</code></pre>

<p>​		<font color="#dd0000"><strong>注意事项：在a模式下，调用write在文件中写入内容时，永远只能将内容写入到尾部，不会写到光标的位置。</strong></font></p>
</li>
<li><p><strong>获取当前光标字符（rt）&#x2F;字节（rb）位置</strong></p>
<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;r&#39;, encoding&#x3D;&#39;utf-8&#39;)

p1 &#x3D; f.tell()
print(p1)  # 0

f.read(3)  # 读3个字符 3*3&#x3D;9字节

p2 &#x3D; f.tell()
print(p2)  # 9

f.close()</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">f &#x3D; open(&#39;info.txt&#39;, mode&#x3D;&#39;rb&#39;)

p1 &#x3D; f.tell()
print(p1)  # 0

f.read(3)  # 读3个字节

p2 &#x3D; f.tell()
print(p2)  # 3

f.close()</code></pre></li>
</ul>
<h3 id="1-5-上下文管理"><a href="#1-5-上下文管理" class="headerlink" title="1.5 上下文管理"></a>1.5 上下文管理</h3><p>​		之前对文件进行操作时，每次都要打开和关闭文件，比较繁琐且容易忘记关闭文件。以后再进行文件操作时，推荐大家使用with上下文管理，它可以自动实现关闭文件。</p>
<pre class="language-python" data-language="python"><code class="language-python">with open(&quot;xxxx.txt&quot;, mode&#x3D;&#39;rb&#39;) as file_object:
    data &#x3D; file_object.read()
    print(data)</code></pre>



<p>​		在Python 2.7 后，with又支持同时对多个文件的上下文进行管理，即：</p>
<pre class="language-python" data-language="python"><code class="language-python">with open(&quot;xxxx.txt&quot;, mode&#x3D;&#39;rb&#39;) as f1, open(&quot;xxxx.txt&quot;, mode&#x3D;&#39;rb&#39;) as f2:
    pass</code></pre>



<h3 id="练习题（能根据以上笔记完成即可）"><a href="#练习题（能根据以上笔记完成即可）" class="headerlink" title="练习题（能根据以上笔记完成即可）"></a>练习题（能根据以上笔记完成即可）</h3><ol>
<li><p>补充代码：实现下载视频并保存到本地</p>
<pre class="language-python" data-language="python"><code class="language-python">import requests

res &#x3D; requests.get(
    url&#x3D;&quot;https:&#x2F;&#x2F;vd2.bdstatic.com&#x2F;mda-jkucv7q3k8xxc2mu&#x2F;sc&#x2F;mda-jkucv7q3k8xxc2mu.mp4?playlist&#x3D;%5B%22hd%22%2C%22sc%22%5D&amp;v_from_s&#x3D;hkapp-haokan-tucheng&amp;auth_key&#x3D;1626679447-0-0-fd88b0974d0ee31107caee2b0147b945&amp;bcevod_channel&#x3D;searchbox_feed&amp;pd&#x3D;1&amp;pt&#x3D;3&amp;abtest&#x3D;&quot;,
    headers&#x3D;&#123;
        &quot;User-Agent&quot;: &quot;Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36&quot;
    &#125;
)

# 因为是视频文件，用&#39;wb&#39;打开
with open(&#39;files&#x2F;video.mp4&#39;, mode&#x3D;&#39;wb&#39;) as f:
    f.write(res.content)</code></pre>


</li>
<li><p>日志分析，计算某用户<code>223.73.89.192</code>访问次数。日志文件如下：<code>access.log</code></p>
<pre class="language-none"><code class="language-none">49.89.167.91 - - [17&#x2F;Dec&#x2F;2020:03:43:50 +0800] &quot;GET &#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40 HTTP&#x2F;1.1&quot; 301 0 &quot;-&quot; &quot;Mozilla&#x2F;5.0(Linux;Android 5.1.1;OPPO A33 Build&#x2F;LMY47V;wv) AppleWebKit&#x2F;537.36(KHTML,link Gecko) Version&#x2F;4.0 Chrome&#x2F;43.0.2357.121 Mobile Safari&#x2F;537.36 LieBaoFast&#x2F;4.51.3&quot; &quot;-&quot;
49.89.167.91 - - [17&#x2F;Dec&#x2F;2020:03:44:11 +0800] &quot;GET &#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F; HTTP&#x2F;1.1&quot; 200 8033 &quot;-&quot; &quot;Mozilla&#x2F;5.0(Linux;Android 5.1.1;OPPO A33 Build&#x2F;LMY47V;wv) AppleWebKit&#x2F;537.36(KHTML,link Gecko) Version&#x2F;4.0 Chrome&#x2F;43.0.2357.121 Mobile Safari&#x2F;537.36 LieBaoFast&#x2F;4.51.3&quot; &quot;-&quot;
203.208.60.66 - - [17&#x2F;Dec&#x2F;2020:03:47:58 +0800] &quot;GET &#x2F;media&#x2F;uploads&#x2F;2019&#x2F;11&#x2F;17&#x2F;pic&#x2F;s1.png HTTP&#x2F;1.1&quot; 200 710728 &quot;-&quot; &quot;Googlebot-Image&#x2F;1.0&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:26 +0800] &quot;GET &#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F; HTTP&#x2F;1.1&quot; 200 8033 &quot;-&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:26 +0800] &quot;GET &#x2F;static&#x2F;stark&#x2F;plugins&#x2F;font-awesome&#x2F;css&#x2F;font-awesome.css HTTP&#x2F;1.1&quot; 200 37414 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:26 +0800] &quot;GET &#x2F;static&#x2F;stark&#x2F;plugins&#x2F;bootstrap&#x2F;css&#x2F;bootstrap.css HTTP&#x2F;1.1&quot; 200 146010 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:26 +0800] &quot;GET &#x2F;static&#x2F;web&#x2F;css&#x2F;commons.css HTTP&#x2F;1.1&quot; 200 3674 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:26 +0800] &quot;GET &#x2F;static&#x2F;mdeditor&#x2F;editormd&#x2F;css&#x2F;editormd.preview.css HTTP&#x2F;1.1&quot; 200 60230 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:26 +0800] &quot;GET &#x2F;static&#x2F;stark&#x2F;js&#x2F;jquery-3.3.1.min.js HTTP&#x2F;1.1&quot; 200 86927 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:26 +0800] &quot;GET &#x2F;static&#x2F;stark&#x2F;plugins&#x2F;bootstrap&#x2F;js&#x2F;bootstrap.min.js HTTP&#x2F;1.1&quot; 200 37045 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:26 +0800] &quot;GET &#x2F;static&#x2F;mdeditor&#x2F;editormd&#x2F;lib&#x2F;marked.min.js HTTP&#x2F;1.1&quot; 200 19608 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:27 +0800] &quot;GET &#x2F;static&#x2F;mdeditor&#x2F;editormd&#x2F;lib&#x2F;prettify.min.js HTTP&#x2F;1.1&quot; 200 17973 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:27 +0800] &quot;GET &#x2F;static&#x2F;mdeditor&#x2F;editormd&#x2F;fonts&#x2F;fontawesome-webfont.woff2?v&#x3D;4.3.0 HTTP&#x2F;1.1&quot; 200 56780 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;static&#x2F;mdeditor&#x2F;editormd&#x2F;css&#x2F;editormd.preview.css&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:27 +0800] &quot;GET &#x2F;static&#x2F;mdeditor&#x2F;editormd&#x2F;editormd.js HTTP&#x2F;1.1&quot; 200 163262 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:28 +0800] &quot;GET &#x2F;static&#x2F;mdeditor&#x2F;mdeditor-preview-init.js HTTP&#x2F;1.1&quot; 200 261 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:29 +0800] &quot;GET &#x2F;static&#x2F;stark&#x2F;plugins&#x2F;font-awesome&#x2F;fonts&#x2F;fontawesome-webfont.woff2?v&#x3D;4.7.0 HTTP&#x2F;1.1&quot; 200 77160 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;static&#x2F;stark&#x2F;plugins&#x2F;font-awesome&#x2F;css&#x2F;font-awesome.css&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;
223.73.89.192 - - [17&#x2F;Dec&#x2F;2020:03:48:29 +0800] &quot;GET &#x2F;media&#x2F;uploads&#x2F;2019&#x2F;02&#x2F;22&#x2F;Gobook&#x2F;_book&#x2F;ssl2.png HTTP&#x2F;1.1&quot; 200 203535 &quot;https:&#x2F;&#x2F;pythonav.com&#x2F;wiki&#x2F;detail&#x2F;3&#x2F;40&#x2F;&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36 Edg&#x2F;87.0.664.60&quot; &quot;-&quot;</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">ip &#x3D; &#39;223.73.89.192&#39;

total_count &#x3D; 0
with open(&#39;files&#x2F;access.log&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;) as object_file:
    for line in object_file:
        if not line.startswith(ip):
            continue            
        total_count +&#x3D; 1

print(total_count)  # 14</code></pre>


</li>
<li><p>日志分析升级，计算所有用户的访问次数。</p>
<pre class="language-python" data-language="python"><code class="language-python">result &#x3D; &#123;&#125;

with open(&#39;files&#x2F;access.log&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;) as object_file:
    for line in object_file:
        # ip和其它文本用空格隔开了
        ip &#x3D; line.split(&#39; &#39;)[0]
        
        # 参考统计车牌部分代码
        count &#x3D; result.get(ip, 0)
        result[ip] &#x3D; count + 1

print(result)</code></pre>


</li>
<li><p>筛选出股票 当前价大于 20 的所有股票数据。</p>
<pre class="language-none"><code class="language-none">股票代码,股票名称,当前价,涨跌额,涨跌幅,年初至今,成交量,成交额,换手率,市盈率(TTM),股息率,市值
SH601778,N晶科,6.29,+1.92,+43.94%,+43.94%,259.66万,1625.52万,0.44%,22.32,-,173.95亿
SH688566,吉贝尔,52.66,+6.96,+15.23%,+122.29%,1626.58万,8.09亿,42.29%,89.34,-,98.44亿
SH688268,华特气体,88.80,+11.72,+15.20%,+102.51%,622.60万,5.13亿,22.87%,150.47,-,106.56亿
SH600734,实达集团,2.60,+0.24,+10.17%,-61.71%,1340.27万,3391.14万,2.58%,亏损,0.00%,16.18亿
SH900957,凌云B股,0.36,+0.033,+10.09%,-35.25%,119.15万,42.10万,0.65%,44.65,0.00%,1.26亿
SZ000584,哈工智能,6.01,+0.55,+10.07%,-4.15%,2610.86万,1.53亿,4.36%,199.33,0.26%,36.86亿
SH600599,熊猫金控,6.78,+0.62,+10.06%,-35.55%,599.64万,3900.23万,3.61%,亏损,0.00%,11.25亿
SH600520,文一科技,8.21,+0.75,+10.05%,-24.05%,552.34万,4464.69万,3.49%,亏损,0.00%,13.01亿
SH603682,锦和商业,11.73,+1.07,+10.04%,+48.29%,2746.63万,3.15亿,29.06%,29.62,-,55.42亿
SZ300831,派瑞股份,12.27,+1.12,+10.04%,+208.29%,25.38万,311.41万,0.32%,60.59,-,39.26亿</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">with open(&#39;files&#x2F;stock_data.txt&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;) as object_file:
    # 读取全部文件
    text &#x3D; object_file.read()  
    list_data &#x3D; text.split(&#39;\n&#39;)[1:]
    for data in list_data:
        target &#x3D; data.split(&#39;,&#39;)[2]
        if float(target) &gt; 20:
            print(data)</code></pre>

<pre class="language-python" data-language="python"><code class="language-python"># 答案：注意如何跳过第一行
with open(&#39;files&#x2F;stock_data.txt&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;) as object_file:
    # 1.先跳过一行(提供readline()将光标移动到下一行)
    object_file.readline()
    for line in object_file:
        text &#x3D; line.split(&#39;,&#39;)[2]
        price &#x3D; float(text)

        if price &gt; 20:
            print(line, end&#x3D;&#39;&#39;)</code></pre>


</li>
<li><p>根据要求修改文件的内容，原文件内容如下：<code>ha.conf</code></p>
<pre class="language-none"><code class="language-none">global       
        log 127.0.0.1 local2
        daemon
        maxconn 256
        log 127.0.0.1 local2 info
defaults
        log global
        mode http
        timeout connect 5000ms
        timeout client 50000ms
        timeout server 50000ms
        option  dontlognull

listen stats :8888
        stats enable
        stats uri       &#x2F;admin
        stats auth      admin:1234

frontend oldboy.org
        bind 0.0.0.0:80
        option httplog
        option httpclose
        option  forwardfor
        log global
        acl www hdr_reg(host) -i www.luffycity.org
        use_backend www.luffycity.com if www

backend www.luffycity.com
        server 100.1.7.9 100.1.7.9 weight 20 maxconn 3000
...</code></pre>

<p>请将文件中的 <code>luffycity</code>修改为 <code>pythonav</code> 。</p>
<pre class="language-python" data-language="python"><code class="language-python"># 适用于文件较小的情况
with open(&#39;files&#x2F;ha.conf&#39;, mode&#x3D;&#39;r+&#39;, encoding&#x3D;&#39;utf-8&#39;) as object_file:
    text &#x3D; object_file.read()
    new_text &#x3D; text.replace(&#39;luffycity&#39;, &#39;pythonav&#39;)
    print(new_text)
    object_file.write(new_text)
</code></pre>

<pre class="language-python" data-language="python"><code class="language-python"># 无论文件大小都适用

# 同时打开两个文件一个读，一个写
with open(&#39;files&#x2F;ha.conf&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;) as read_object_file, open(&#39;files&#x2F;new_ha.conf&#39;, mode&#x3D;&#39;wt&#39;, encoding&#x3D;&#39;utf-8&#39;) as write_object_file:    
    for line in read_object_file:
        new_line &#x3D; line.replace(&#39;luffycity&#39;, &#39;pythonav&#39;)
        write_object_file.write(new_line)</code></pre></li>
</ol>
<h2 id="2-csv格式文件"><a href="#2-csv格式文件" class="headerlink" title="2.csv格式文件"></a>2.csv格式文件</h2><p>​		<strong>逗号分隔值</strong>（Comma-Separated Values，<strong>CSV</strong>，有时也称为<strong>字符分隔值</strong>，因为分隔字符也可以不是逗号），其文件以纯文本形式存储表格数据（数字和文本）。</p>
<p>对于这种格式的数据，我们需要利用open函数来读取文件并根据逗号分隔的特点来进行处理。</p>
<pre class="language-none"><code class="language-none">股票代码,股票名称,当前价,涨跌额,涨跌幅,年初至今
SH601778,N晶科,6.29,+1.92,-43.94%,+43.94%
SH688566,吉贝尔,52.66,+6.96,+15.23%,+122.29%
...</code></pre>



<p>练习题案例：下载文档中的所有图片且以用户名为图片名称存储。</p>
<pre class="language-python" data-language="python"><code class="language-python">ID,用户名,头像
26044585,Hush,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;51d46dc32abe7ac7f83b94c67bb88cacc46869954f478-aP4Q3V
19318369,柒十一,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;703fdb063bdc37b11033ef794f9b3a7adfa01fd21a6d1-wTFbnO
15529690,Law344,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;b438d8c61ed2abf50ca94e00f257ca7a223e3b364b471-xrzoQd
18311394,Jennah·,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;4edba1ed6a71797f52355aa1de5af961b85bf824cb71-px1nZz
18009711,可洛爱画画,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;03331ef39b5c7687f5cc47dbcbafd974403c962ae88ce-Co8AUI
30574436,花姑凉~,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;2f5b657edb9497ff8c41132e18000edb082d158c2404-8rYHbw
17740339,小巫師,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;dbc6fd49f1915545cc42c1a1492a418dbaebd2c21bb9-9aDqgl
18741964,桐末tonmo,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;b60cee303f62aaa592292f45a1ed8d5be9873b2ed5c-gAJehO
30535005,TANGZHIQI,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;bbd08ee168d54665bf9b07899a5c4a4d6bc1eb8af77a4-8Gz3K1
31078743,你的老杨,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;c46fbc3c9a01db37b8e786cbd7174bbd475e4cda220f4-F1u7MX
25519376,尺尺寸,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;ee29ee198efb98f970e3dc2b24c40d89bfb6f911126b6-KGvKes
21113978,C-CLong,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;7fa6b2a0d570e67246b34840a87d57c16a875dba9100-SXsSeY
24674102,szaa,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;0716687b0df93e8c3a8e0925b6d2e4135449cd27597c4-gWdv24
30508507,爱起床的小灰灰,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;4eafdbfa21b2f300a7becd8863f948e5e92ef789b5a5-1ozTKq
12593664,yokozen,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;cd07bbaf052b752ed5c287602404ea719d7dd8161321b-cJtHss
16899164,一阵疯,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;0940b557b28892658c3bcaf52f5ba8dc8402100e130b2-G966Uz
847937,卩丬My㊊伴er彎,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;e2d6bb5bc8498c6f607492a8f96164aa2366b104e7a-kWaH68
31010628,慢慢即漫漫,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;c4fb6718907a22f202e8dd14d52f0c369685e59cfea7-82FdsK
13438168,海贼玩跑跑,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;1edae3ce6fe0f6e95b67b4f8b57c4cebf19c501b397e-BXwiW6
28593155,源稚生,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;626cfd89ca4c10e6f875f3dfe1005331e4c0fd7fd429-9SeJeQ
28201821,合伙哼哼,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;f59d4780531aa1892b80e0ec94d4ec78dcba08ff18c416-769X6a
28255146,漫步AAA,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;3c034c520594e38353a039d7e7a5fd5e74fb53eb1086-KnpLaL
30537613,配䦹,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;efd81d22c1b1a2de77a0e0d8e853282b83b6bbc590fd-y3d4GJ
22665880,日后必火,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;69f0f959979a4fada9e9e55f565989544be88164d2b-INWbaF
16748980,keer521521,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;654953460733026a7ef6e101404055627ad51784a95c-B6OFs4
30536510,“西辞”,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;61cfffca6b2507bf51a507e8319d68a8b8c3a96968f-6IvMSk
30986577,艺成背锅王,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;c381ecc43d6c69758a86a30ebf72976906ae6c53291f9-9zroHF
26409800,CsysADk7,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;bf1d22092c2070d68ade012c588f2e410caaab1f58051-ahlgLm
30469116,18啊全阿,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;654953460733026a7ef6e101404055627ad51784a95c-B6OFs4
15514336,椿の花,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;0e38d810e5a24f91ebb251fd3aaaed8bb37655b14844c-pgNJBP
19165177,っ思忆゜♪,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;4815ea0e4905d0f3bb82a654b481811dadbfe5ce2673-vMVr0B
16059616,格林熊丶,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;8760a2b08d87e6ed4b7a9715b1a668176dbf84fec5b-jx14tZ
30734152,sCWVkJDG,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;f31a5305d1b8717bbfb897723f267d316e58e7b7dc40-GD3e22
24019677,虚无本心,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;6fdfa9834abe362e978b517275b06e7f0d5926aa650-N1xCXE
16670283,Y-雨后天空,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;a3bbb0045b536fc27a6d2effa64a0d43f9f5193c177f-I2vHaI
21512483,汤姆2,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;98cc50a61a7cc9b49a8af754ffb26bd15764a82f1133-AkiU7D
16441049,笑潇啸逍小鱼,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;ae8a70cd85aff3a8587ff6578d5cf7620f3691df13e46-lmrIi9
24795603,⁢⁢⁢⁢⁢v,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;a7183cc3a933aa129d7b3230bf1378fd8f5857846cc5-3tDtx3
29819152,妮玛士珍多,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;ca4ecb573bf1ff0415c7a873d64470dedc465ea1213c6-RAkArS
19101282,陈勇敢❤,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;ab6d04ebaff3176e3570139a65155856871241b58bc6-Qklj2E
28337572,爱意随风散,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;117ad8b6eeda57a562ac6ab2861111a793ca3d1d5543-SjWlk2
17342758,幸运instant,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;72b5f9042ec297ae57b83431123bc1c066cca90fa23-3MoJNj
18483372,Beau染,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;077115cb622b1ff3907ec6932e1b575393d5aae720487-d1cdT9
22127102,栽花的小蜻蜓,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;6c3cbf9f27e17898083186fc51985e43269018cc1e1df-QfOIBG
13802024,LoveHsu,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;f720a15f8b49b86a7c1ee4951263a8dbecfe3e43d2d-GPEauV
22558931,白驹过隙丶梨花泪う,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;e49e1341dfe5144da5c71bd15f1052ef07ba7a0e1296b-jfyfDJ
11762339,cojoy,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;5b27f876d5d391e7c4889bc5e8ba214419eb72b56822-83gYmB
30711623,雪碧学长呀,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;2c288a1535048b05537ba523b3fc9eacc1e81273212d1-nr8M4t
18906718,西霸王,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;7b02ad5e01bd8c0a29817e362814666a7800831c154a6-AvBDaG
31037856,邵阳的小哥哥,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;654953460733026a7ef6e101404055627ad51784a95c-B6OFs4
26830711,稳健谭,https:&#x2F;&#x2F;hbimg.huabanimg.com&#x2F;51547ade3f0aef134e8d268cfd4ad61110925aefec8a-NKPEYX</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">import requests
import os

with open(&#39;files&#x2F;mn.csv&#39;, mode&#x3D;&#39;rt&#39;, encoding&#x3D;&#39;utf-8&#39;) as read_object_file:
    read_object_file.readline()
    for line in read_object_file:
        # 先strip()去掉末尾的换行符
        user_id, user_name, url &#x3D; line.strip().split(&#39;,&#39;)
        print(user_name, url)

        # 下载所有图片
        res &#x3D; requests.get(
            url&#x3D;url,
            headers&#x3D;&#123;
                &quot;User-Agent&quot;: &quot;Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;87.0.4280.88 Safari&#x2F;537.36&quot;
            &#125;
        )
        # 判断files&#x2F;images文件目录是否存在
        if not os.path.exists(&#39;files&#x2F;images&#39;):
            # 不存在则创建目录
            os.makedirs(&#39;files&#x2F;images&#39;)

        # 将图片写入文件files&#x2F;images
        with open(&#39;files&#x2F;images&#x2F;&#123;&#125;.png&#39;.format(user_name), mode&#x3D;&#39;wb&#39;) as write_object:
            write_object.write(res.content)
</code></pre>





<h2 id="3-ini格式文件"><a href="#3-ini格式文件" class="headerlink" title="3.ini格式文件"></a>3.ini格式文件</h2><p>​		ini文件是Initialization File的缩写，平时用于存储软件的的配置文件。例如：MySQL数据库的配置文件。</p>
<pre class="language-ini" data-language="ini"><code class="language-ini">[mysqld]
datadir&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql
socket&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;mysql.sock
log-bin&#x3D;py-mysql-bin
character-set-server&#x3D;utf8
collation-server&#x3D;utf8_general_ci
log-error&#x3D;&#x2F;var&#x2F;log&#x2F;mysqld.log
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links&#x3D;0

[mysqld_safe]
log-error&#x3D;&#x2F;var&#x2F;log&#x2F;mariadb&#x2F;mariadb.log
pid-file&#x3D;&#x2F;var&#x2F;run&#x2F;mariadb&#x2F;mariadb.pid

[client]
default-character-set&#x3D;utf8</code></pre>

<p>​		这种格式是可以直接使用open来出来，考虑到自己处理比较麻烦，所以Python为我们提供了更为方便的方式。</p>
<ul>
<li><p>读取所有节点</p>
<pre class="language-python" data-language="python"><code class="language-python">import configparser

config &#x3D; configparser.ConfigParser()
config.read(&#39;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;files&#x2F;my.conf&#39;, encoding&#x3D;&#39;utf-8&#39;)
# config.read(&#39;my.conf&#39;, encoding&#x3D;&#39;utf-8&#39;)
ret &#x3D; config.sections()
print(ret) 

&gt;&gt;输出
[&#39;mysqld&#39;, &#39;mysqld_safe&#39;, &#39;client&#39;]</code></pre>
</li>
<li><p>读取节点下的键值</p>
<pre class="language-python" data-language="python"><code class="language-python">import configparser

config &#x3D; configparser.ConfigParser()
config.read(&#39;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;files&#x2F;my.conf&#39;, encoding&#x3D;&#39;utf-8&#39;)
# config.read(&#39;my.conf&#39;, encoding&#x3D;&#39;utf-8&#39;)
item_list &#x3D; config.items(&quot;mysqld_safe&quot;)
print(item_list) 

&gt;&gt;输出
[(&#39;log-error&#39;, &#39;&#x2F;var&#x2F;log&#x2F;mariadb&#x2F;mariadb.log&#39;), (&#39;pid-file&#39;, &#39;&#x2F;var&#x2F;run&#x2F;mariadb&#x2F;mariadb.pid&#39;)]</code></pre>
</li>
<li><p>读取节点下值（根据 节点+键 ）</p>
<pre class="language-python" data-language="python"><code class="language-python">import configparser

config &#x3D; configparser.ConfigParser()
config.read(&#39;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;files&#x2F;my.conf&#39;, encoding&#x3D;&#39;utf-8&#39;)

value &#x3D; config.get(&#39;mysqld&#39;, &#39;log-bin&#39;)
print(value)

&gt;&gt;输出
py-mysql-bin</code></pre>
</li>
<li><p>检查、删除、添加节点</p>
<pre class="language-python" data-language="python"><code class="language-python">import configparser

config &#x3D; configparser.ConfigParser()
config.read(&#39;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;files&#x2F;my.conf&#39;, encoding&#x3D;&#39;utf-8&#39;)
# config.read(&#39;my.conf&#39;, encoding&#x3D;&#39;utf-8&#39;)


# 检查
has_sec &#x3D; config.has_section(&#39;mysqld&#39;)
print(has_sec)

# 添加节点
config.add_section(&quot;SEC_1&quot;)
# 节点中设置键值
config.set(&#39;SEC_1&#39;, &#39;k10&#39;, &quot;123&quot;)
config.set(&#39;SEC_1&#39;, &#39;name&#39;, &quot;哈哈哈哈哈&quot;)

config.add_section(&quot;SEC_2&quot;)
config.set(&#39;SEC_2&#39;, &#39;k10&#39;, &quot;123&quot;)
# 内容写入新文件
config.write(open(&#39;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;files&#x2F;xxoo.conf&#39;, &#39;w&#39;))


# 删除节点
config.remove_section(&quot;SEC_2&quot;)
# 删除节点中的键值
config.remove_option(&#39;SEC_1&#39;, &#39;k10&#39;)
config.write(open(&#39;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;files&#x2F;new.conf&#39;, &#39;w&#39;))</code></pre></li>
</ul>
<h2 id="4-XML格式文件"><a href="#4-XML格式文件" class="headerlink" title="4.XML格式文件"></a>4.XML格式文件</h2><p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%8F%AF%E6%89%A9%E5%B1%95%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80/2885849">可扩展标记语言</a>，是一种简单的数据存储语言，XML 被设计用来传输和存储数据。</p>
<ul>
<li>存储，可用来存放配置文件，例如：java的配置文件。</li>
<li>传输，网络传输时以这种格式存在，例如：早期ajax传输的数据、soap协议等。</li>
</ul>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>country</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Liechtenstein<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rank</span> <span class="token attr-name">updated</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rank</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>year</span><span class="token punctuation">></span></span>2023<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>year</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gdppc</span><span class="token punctuation">></span></span>141100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gdppc</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>neighbor</span> <span class="token attr-name">direction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>E<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Austria<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>neighbor</span> <span class="token attr-name">direction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>W<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Switzerland<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>country</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>country</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Singapore<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rank</span> <span class="token attr-name">updated</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rank</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>year</span><span class="token punctuation">></span></span>2026<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>year</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gdppc</span><span class="token punctuation">></span></span>59900<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gdppc</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>neighbor</span> <span class="token attr-name">direction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>N<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Malaysia<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>country</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>country</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Panama<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rank</span> <span class="token attr-name">updated</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>69<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rank</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>year</span><span class="token punctuation">></span></span>2026<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>year</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gdppc</span><span class="token punctuation">></span></span>13600<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gdppc</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>neighbor</span> <span class="token attr-name">direction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>W<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Costa Rica<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>neighbor</span> <span class="token attr-name">direction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>E<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Colombia<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>country</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">></span></span></code></pre>

<p>​		注意：在Python开发中用的相对来比较少，大家作为了解即可（后期课程在讲解微信支付、微信公众号消息处理 时会用到基于xml传输数据）。</p>
<p>例如：<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Receiving_standard_messages.html">https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Receiving_standard_messages.html</a></p>
<h3 id="4-1-读取文件和内容"><a href="#4-1-读取文件和内容" class="headerlink" title="4.1 读取文件和内容"></a>4.1 读取文件和内容</h3><h4 id="以xml文件存在"><a href="#以xml文件存在" class="headerlink" title="以xml文件存在"></a>以xml文件存在</h4><pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET

# ET去打开xml文件
tree &#x3D; ET.parse(&quot;files&#x2F;xo.xml&quot;)

# 获取根标签
root &#x3D; tree.getroot()

print(root) # &lt;Element &#39;data&#39; at 0x7f94e02763b0&gt;</code></pre>

<h4 id="通过网络获取或str格式"><a href="#通过网络获取或str格式" class="headerlink" title="通过网络获取或str格式"></a>通过网络获取或str格式</h4><pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET

content &#x3D; &quot;&quot;&quot;
&lt;data&gt;
    &lt;country name&#x3D;&quot;Liechtenstein&quot;&gt;
        &lt;rank updated&#x3D;&quot;yes&quot;&gt;2&lt;&#x2F;rank&gt;
        &lt;year&gt;2023&lt;&#x2F;year&gt;
        &lt;gdppc&gt;141100&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Austria&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Switzerland&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
     &lt;country name&#x3D;&quot;Panama&quot;&gt;
        &lt;rank updated&#x3D;&quot;yes&quot;&gt;69&lt;&#x2F;rank&gt;
        &lt;year&gt;2026&lt;&#x2F;year&gt;
        &lt;gdppc&gt;13600&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Costa Rica&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Colombia&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
&lt;&#x2F;data&gt;
&quot;&quot;&quot;

root &#x3D; ET.XML(content)
print(root)  # &lt;Element &#39;data&#39; at 0x7fdaa019cea0&gt;</code></pre>

<h3 id="4-2-读取节点数据"><a href="#4-2-读取节点数据" class="headerlink" title="4.2 读取节点数据"></a>4.2 读取节点数据</h3><pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET

content &#x3D; &quot;&quot;&quot;
&lt;data&gt;
    &lt;country name&#x3D;&quot;Liechtenstein&quot;&gt;
        &lt;rank&gt;2&lt;&#x2F;rank&gt;
        &lt;year&gt;2023&lt;&#x2F;year&gt;
        &lt;gdppc&gt;141100&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Austria&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Switzerland&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
     &lt;country name&#x3D;&quot;Panama&quot;&gt;
        &lt;rank&gt;69&lt;&#x2F;rank&gt;
        &lt;year&gt;2026&lt;&#x2F;year&gt;
        &lt;gdppc&gt;13600&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Costa Rica&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Colombia&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
&lt;&#x2F;data&gt;
&quot;&quot;&quot;

# 获取根标签 data
root &#x3D; ET.XML(content)

# 获取data标签的孩子标签
for child in root:
    # child.tag &#x3D; country
    # child.attrib &#x3D; &#123;&quot;name&quot;:&quot;Liechtenstein&quot;&#125;
    print(child.tag, child.attrib)
    for node in child:
        print(node.tag, node.attrib, node.text)</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET

content &#x3D; &quot;&quot;&quot;
&lt;data&gt;
    &lt;country name&#x3D;&quot;Liechtenstein&quot;&gt;
        &lt;rank&gt;2&lt;&#x2F;rank&gt;
        &lt;year&gt;2023&lt;&#x2F;year&gt;
        &lt;gdppc&gt;141100&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Austria&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Switzerland&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
     &lt;country name&#x3D;&quot;Panama&quot;&gt;
        &lt;rank&gt;69&lt;&#x2F;rank&gt;
        &lt;year&gt;2026&lt;&#x2F;year&gt;
        &lt;gdppc&gt;13600&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Costa Rica&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Colombia&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
&lt;&#x2F;data&gt;
&quot;&quot;&quot;

root &#x3D; ET.XML(content)

# 在data的子子孙孙里面找第一个year标签
for child in root.iter(&#39;year&#39;):
    print(child.tag, child.text)</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET

content &#x3D; &quot;&quot;&quot;
&lt;data&gt;
    &lt;country name&#x3D;&quot;Liechtenstein&quot;&gt;
        &lt;rank&gt;2&lt;&#x2F;rank&gt;
        &lt;year&gt;2023&lt;&#x2F;year&gt;
        &lt;gdppc&gt;141100&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Austria&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Switzerland&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
     &lt;country name&#x3D;&quot;Panama&quot;&gt;
        &lt;rank&gt;69&lt;&#x2F;rank&gt;
        &lt;year&gt;2026&lt;&#x2F;year&gt;
        &lt;gdppc&gt;13600&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Costa Rica&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Colombia&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
&lt;&#x2F;data&gt;
&quot;&quot;&quot;

root &#x3D; ET.XML(content)

# 获取所有&#39;country&#39;
v1 &#x3D; root.findall(&#39;country&#39;)
print(v1)

# 获取第一个&#39;country&#39;的第一个&#39;rank&#39;
v2 &#x3D; root.find(&#39;country&#39;).find(&#39;rank&#39;)
print(v2.text)</code></pre>



<h3 id="4-3-修改和删除节点"><a href="#4-3-修改和删除节点" class="headerlink" title="4.3 修改和删除节点"></a>4.3 修改和删除节点</h3><pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET

content &#x3D; &quot;&quot;&quot;
&lt;data&gt;
    &lt;country name&#x3D;&quot;Liechtenstein&quot;&gt;
        &lt;rank&gt;2&lt;&#x2F;rank&gt;
        &lt;year&gt;2023&lt;&#x2F;year&gt;
        &lt;gdppc&gt;141100&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Austria&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Switzerland&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
     &lt;country name&#x3D;&quot;Panama&quot;&gt;
        &lt;rank&gt;69&lt;&#x2F;rank&gt;
        &lt;year&gt;2026&lt;&#x2F;year&gt;
        &lt;gdppc&gt;13600&lt;&#x2F;gdppc&gt;
        &lt;neighbor direction&#x3D;&quot;W&quot; name&#x3D;&quot;Costa Rica&quot; &#x2F;&gt;
        &lt;neighbor direction&#x3D;&quot;E&quot; name&#x3D;&quot;Colombia&quot; &#x2F;&gt;
    &lt;&#x2F;country&gt;
&lt;&#x2F;data&gt;
&quot;&quot;&quot;

root &#x3D; ET.XML(content)

# 修改节点内容和属性
rank &#x3D; root.find(&#39;country&#39;).find(&#39;rank&#39;)
print(rank.text)

# 修改标签的值
rank.text &#x3D; &quot;999&quot;

# 给标签加属性
rank.set(&#39;update&#39;, &#39;2020-11-11&#39;)
print(rank.text, rank.attrib)

############ 保存文件 ############上述对xml的操作是在内存中
tree &#x3D; ET.ElementTree(root)
tree.write(&quot;new.xml&quot;, encoding&#x3D;&#39;utf-8&#39;)


# 删除节点
root.remove( root.find(&#39;country&#39;) )
print(root.findall(&#39;country&#39;))

############ 保存文件 ############
tree &#x3D; ET.ElementTree(root)
tree.write(&quot;newnew.xml&quot;, encoding&#x3D;&#39;utf-8&#39;)</code></pre>



<h3 id="4-4-构建文档"><a href="#4-4-构建文档" class="headerlink" title="4.4 构建文档"></a>4.4 构建文档</h3><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>home</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>son</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>grandson</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>grandson</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>grandson</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>grandson</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>son</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>son</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>son</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>home</span><span class="token punctuation">></span></span></code></pre>



<pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET

# 创建根标签
root &#x3D; ET.Element(&quot;home&quot;)

# 创建节点大儿子
son1 &#x3D; ET.Element(&#39;son&#39;, &#123;&#39;name&#39;: &#39;儿1&#39;&#125;)
# 创建小儿子
son2 &#x3D; ET.Element(&#39;son&#39;, &#123;&quot;name&quot;: &#39;儿2&#39;&#125;)

# 在大儿子中创建两个孙子
grandson1 &#x3D; ET.Element(&#39;grandson&#39;, &#123;&#39;name&#39;: &#39;儿11&#39;&#125;)
grandson2 &#x3D; ET.Element(&#39;grandson&#39;, &#123;&#39;name&#39;: &#39;儿12&#39;&#125;)
son1.append(grandson1)
son1.append(grandson2)

# 把儿子添加到根节点中
root.append(son1)
root.append(son2)

tree &#x3D; ET.ElementTree(root)
tree.write(&#39;oooo.xml&#39;, encoding&#x3D;&#39;utf-8&#39;, short_empty_elements&#x3D;False)</code></pre>



<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>famliy</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>son</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>grandson</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>grandson</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>grandson</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>grandson</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>son</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>son</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>son</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>famliy</span><span class="token punctuation">></span></span></code></pre>

<pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET

# 创建根节点
root &#x3D; ET.Element(&quot;famliy&quot;)


# 创建大儿子
son1 &#x3D; root.makeelement(&#39;son&#39;, &#123;&#39;name&#39;: &#39;儿1&#39;&#125;)
# 创建小儿子
son2 &#x3D; root.makeelement(&#39;son&#39;, &#123;&quot;name&quot;: &#39;儿2&#39;&#125;)

# 在大儿子中创建两个孙子
grandson1 &#x3D; son1.makeelement(&#39;grandson&#39;, &#123;&#39;name&#39;: &#39;儿11&#39;&#125;)
grandson2 &#x3D; son1.makeelement(&#39;grandson&#39;, &#123;&#39;name&#39;: &#39;儿12&#39;&#125;)

son1.append(grandson1)
son1.append(grandson2)


# 把儿子添加到根节点中
root.append(son1)
root.append(son2)

tree &#x3D; ET.ElementTree(root)
tree.write(&#39;oooo.xml&#39;,encoding&#x3D;&#39;utf-8&#39;)</code></pre>





<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>famliy</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>son</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>age</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>孙子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>age</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>son</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>son</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>儿2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>son</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>famliy</span><span class="token punctuation">></span></span></code></pre>

<pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET


# 创建根节点
root &#x3D; ET.Element(&quot;famliy&quot;)


# 创建节点大儿子
son1 &#x3D; ET.SubElement(root, &quot;son&quot;, attrib&#x3D;&#123;&#39;name&#39;: &#39;儿1&#39;&#125;)
# 创建小儿子
son2 &#x3D; ET.SubElement(root, &quot;son&quot;, attrib&#x3D;&#123;&quot;name&quot;: &quot;儿2&quot;&#125;)

# 在大儿子中创建一个孙子
grandson1 &#x3D; ET.SubElement(son1, &quot;age&quot;, attrib&#x3D;&#123;&#39;name&#39;: &#39;儿11&#39;&#125;)
grandson1.text &#x3D; &#39;孙子&#39;


et &#x3D; ET.ElementTree(root)  #生成文档对象
et.write(&quot;test.xml&quot;, encoding&#x3D;&quot;utf-8&quot;)</code></pre>



<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>user</span><span class="token punctuation">></span></span>&lt;![CDATA[你好呀]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>user</span><span class="token punctuation">></span></span></code></pre>

<pre class="language-python" data-language="python"><code class="language-python">from xml.etree import ElementTree as ET

# 创建根节点
root &#x3D; ET.Element(&quot;user&quot;)
root.text &#x3D; &quot;&lt;![CDATA[你好呀]]&quot;

et &#x3D; ET.ElementTree(root)  # 生成文档对象
et.write(&quot;test.xml&quot;, encoding&#x3D;&quot;utf-8&quot;)</code></pre>



<p>案例：</p>
<pre class="language-python" data-language="python"><code class="language-python">content &#x3D; &quot;&quot;&quot;&lt;xml&gt;
    &lt;ToUserName&gt;&lt;![CDATA[gh_7f083739789a]]&gt;&lt;&#x2F;ToUserName&gt;
    &lt;FromUserName&gt;&lt;![CDATA[oia2TjuEGTNoeX76QEjQNrcURxG8]]&gt;&lt;&#x2F;FromUserName&gt;
    &lt;CreateTime&gt;1395658920&lt;&#x2F;CreateTime&gt;
    &lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;&#x2F;MsgType&gt;
    &lt;Event&gt;&lt;![CDATA[TEMPLATESENDJOBFINISH]]&gt;&lt;&#x2F;Event&gt;
    &lt;MsgID&gt;200163836&lt;&#x2F;MsgID&gt;
    &lt;Status&gt;&lt;![CDATA[success]]&gt;&lt;&#x2F;Status&gt;
&lt;&#x2F;xml&gt;&quot;&quot;&quot;

from xml.etree import ElementTree as ET

info &#x3D; &#123;&#125;
root &#x3D; ET.XML(content)
for node in root:
    # print(node.tag,node.text)
    info[node.tag] &#x3D; node.text
print(info)</code></pre>



<h2 id="5-Excel格式文件"><a href="#5-Excel格式文件" class="headerlink" title="5.Excel格式文件"></a>5.Excel格式文件</h2><p>Python内部未提供处理Excel文件的功能，想要在Python中操作Excel需要按照第三方的模块。</p>
<pre class="language-none"><code class="language-none">pip install openpyxl</code></pre>

<p>此模块中集成了Python操作Excel的相关功能，接下来我们就需要去学习该模块提供的相关功能即可。</p>
<p><img src="/asserts/image-20201218012118097.png" alt="image-20201218012118097"></p>
<h3 id="5-1-读Excel"><a href="#5-1-读Excel" class="headerlink" title="5.1 读Excel"></a>5.1 读Excel</h3><ul>
<li><p>读sheet</p>
<pre class="language-python" data-language="python"><code class="language-python">from openpyxl import load_workbook

wb &#x3D; load_workbook(&quot;files&#x2F;p1.xlsx&quot;)

# sheet相关操作

# 1.获取excel文件中的所有sheet名称
&quot;&quot;&quot;
print(wb.sheetnames) # [&#39;数据导出&#39;, &#39;用户列表&#39;, &#39;Sheet1&#39;, &#39;Sheet2&#39;]
&quot;&quot;&quot;

# 2.选择sheet，基于sheet名称
&quot;&quot;&quot;
sheet &#x3D; wb[&quot;数据导出&quot;]
cell &#x3D; sheet.cell(1, 2)
print(cell.value)  # 读取对应单元格的值
&quot;&quot;&quot;

# 3.选择sheet，基于索引位置
&quot;&quot;&quot;
sheet &#x3D; wb.worksheets[0]
cell &#x3D; sheet.cell(1,2)
print(cell.value)
&quot;&quot;&quot;

# 4.循环所有的sheet
&quot;&quot;&quot;
for name in wb.sheetnames:
    sheet &#x3D; wb[name]
    cell &#x3D; sheet.cell(1, 1)
    print(cell.value)
&quot;&quot;&quot;
&quot;&quot;&quot;
for sheet in wb.worksheets:
    cell &#x3D; sheet.cell(1, 1)
    print(cell.value)
&quot;&quot;&quot;
&quot;&quot;&quot;
for sheet in wb:
    cell &#x3D; sheet.cell(1, 1)
    print(cell.value)
&quot;&quot;&quot;</code></pre>
</li>
<li><p>读sheet中单元格的数据</p>
<pre class="language-python" data-language="python"><code class="language-python">from openpyxl import load_workbook

wb &#x3D; load_workbook(&quot;files&#x2F;p1.xlsx&quot;)
sheet &#x3D; wb.worksheets[0]

# 1.获取第N行第N列的单元格(位置是从1开始）
&quot;&quot;&quot;
cell &#x3D; sheet.cell(1, 1)

print(cell.value)  # 单元格的内容
print(cell.style)  # 单元格的样式
print(cell.font)  # 单元格的字体
print(cell.alignment)  # 单元格的排列
&quot;&quot;&quot;

# 2.获取某个单元格
&quot;&quot;&quot;
c1 &#x3D; sheet[&quot;A2&quot;]
print(c1.value)

c2 &#x3D; sheet[&#39;D4&#39;]
print(c2.value)
&quot;&quot;&quot;

# 3.第N行所有的单元格
&quot;&quot;&quot;
for cell in sheet[1]:
    print(cell.value)
&quot;&quot;&quot;

# 4.所有行的数据（获取某一列数据）
&quot;&quot;&quot;
for row in sheet.rows:
    print(row[0].value, row[1].value)
&quot;&quot;&quot;

# 5.获取所有列的数据
&quot;&quot;&quot;
for col in sheet.columns:
    print(col[1].value)
&quot;&quot;&quot;</code></pre>
</li>
<li><p>读合并的单元格</p>
<p><img src="/asserts/image-20201218011732755.png" alt="image-20201218011732755"></p>
<pre class="language-python" data-language="python"><code class="language-python">from openpyxl import load_workbook

wb &#x3D; load_workbook(&quot;files&#x2F;p1.xlsx&quot;)
sheet &#x3D; wb.worksheets[2]

# 获取第N行第N列的单元格(位置是从1开始）
c1 &#x3D; sheet.cell(1, 1)
print(c1)  # &lt;Cell &#39;Sheet1&#39;.A1&gt;
print(c1.value) # 用户信息

c2 &#x3D; sheet.cell(1, 2)
print(c2)  # &lt;MergedCell &#39;Sheet1&#39;.B1&gt;
print(c2.value) # None
</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">from openpyxl import load_workbook

wb &#x3D; load_workbook(&#39;files&#x2F;p1.xlsx&#39;)
sheet &#x3D; wb.worksheets[2]
for row in sheet.rows:
    print(row)</code></pre>

<pre class="language-none"><code class="language-none">&gt;&gt;&gt; 输出结果
(&lt;Cell &#39;Sheet1&#39;.A1&gt;, &lt;MergedCell &#39;Sheet1&#39;.B1&gt;, &lt;Cell &#39;Sheet1&#39;.C1&gt;)
(&lt;Cell &#39;Sheet1&#39;.A2&gt;, &lt;Cell &#39;Sheet1&#39;.B2&gt;, &lt;Cell &#39;Sheet1&#39;.C2&gt;)
(&lt;Cell &#39;Sheet1&#39;.A3&gt;, &lt;Cell &#39;Sheet1&#39;.B3&gt;, &lt;Cell &#39;Sheet1&#39;.C3&gt;)
(&lt;MergedCell &#39;Sheet1&#39;.A4&gt;, &lt;Cell &#39;Sheet1&#39;.B4&gt;, &lt;Cell &#39;Sheet1&#39;.C4&gt;)
(&lt;Cell &#39;Sheet1&#39;.A5&gt;, &lt;Cell &#39;Sheet1&#39;.B5&gt;, &lt;Cell &#39;Sheet1&#39;.C5&gt;)</code></pre></li>
</ul>
<h3 id="5-1-写Excel"><a href="#5-1-写Excel" class="headerlink" title="5.1 写Excel"></a>5.1 写Excel</h3><p>在Excel中想要写文件，大致要分为在：</p>
<ul>
<li><p>原Excel文件基础上写内容。</p>
<pre class="language-python" data-language="python"><code class="language-python">from openpyxl import load_workbook

wb &#x3D; load_workbook(&#39;files&#x2F;p1.xlsx&#39;)
sheet &#x3D; wb.worksheets[0]

# 找到单元格，并修改单元格的内容
cell &#x3D; sheet.cell(1, 1)
cell.value &#x3D; &quot;新的开始&quot;

# 将excel文件保存到p2.xlsx文件中
wb.save(&quot;files&#x2F;p2.xlsx&quot;)</code></pre>
</li>
<li><p>新创建Excel文件写内容。</p>
<pre class="language-python" data-language="python"><code class="language-python">from openpyxl import workbook

# 创建excel且默认会创建一个sheet（名称为Sheet）
wb &#x3D; workbook.Workbook()

sheet &#x3D; wb.worksheets[0] # 或 sheet &#x3D; wb[&quot;Sheet&quot;]

# 找到单元格，并修改单元格的内容
cell &#x3D; sheet.cell(1, 1)
cell.value &#x3D; &quot;新的开始&quot;

# 将excel文件保存到p2.xlsx文件中
wb.save(&quot;files&#x2F;p2.xlsx&quot;)</code></pre></li>
</ul>
<p>在了解了如何读取Excel和创建Excel之后，后续对于Excel中的sheet和cell操作基本上都相同。</p>
<pre class="language-python" data-language="python"><code class="language-python">from openpyxl import workbook

wb &#x3D; workbook.Workbook() # Sheet

# 1. 修改sheet名称
&quot;&quot;&quot;
sheet &#x3D; wb.worksheets[0]
sheet.title &#x3D; &quot;数据集&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 2. 创建sheet并设置sheet颜色
&quot;&quot;&quot;
sheet &#x3D; wb.create_sheet(&quot;工作计划&quot;, 0)
sheet.sheet_properties.tabColor &#x3D; &quot;1072BA&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 3. 默认打开的sheet
&quot;&quot;&quot;
wb.active &#x3D; 0
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 4. 拷贝sheet
&quot;&quot;&quot;
sheet &#x3D; wb.create_sheet(&quot;工作计划&quot;)
sheet.sheet_properties.tabColor &#x3D; &quot;1072BA&quot;

new_sheet &#x3D; wb.copy_worksheet(wb[&quot;Sheet&quot;])
new_sheet.title &#x3D; &quot;新的计划&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 5.删除sheet
&quot;&quot;&quot;
del wb[&quot;用户列表&quot;]
wb.save(&#39;files&#x2F;p2.xlsx&#39;)
&quot;&quot;&quot;</code></pre>

<pre class="language-python" data-language="python"><code class="language-python">from openpyxl import load_workbook
from openpyxl.styles import Alignment, Border, Side, Font, PatternFill, GradientFill


wb &#x3D; load_workbook(&#39;files&#x2F;p1.xlsx&#39;)

sheet &#x3D; wb.worksheets[1]

# 1. 获取某个单元格，修改值
&quot;&quot;&quot;
cell &#x3D; sheet.cell(1, 1)
cell.value &#x3D; &quot;开始&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 2.  获取某个单元格，修改值
&quot;&quot;&quot;
sheet[&quot;B3&quot;] &#x3D; &quot;Alex&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 3. 获取某些单元格，修改值
&quot;&quot;&quot;
cell_list &#x3D; sheet[&quot;B2&quot;:&quot;C3&quot;]
for row in cell_list:
    for cell in row:
        cell.value &#x3D; &quot;新的值&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 4. 对齐方式
&quot;&quot;&quot;
cell &#x3D; sheet.cell(1, 1)

# horizontal，水平方向对齐方式：&quot;general&quot;, &quot;left&quot;, &quot;center&quot;, &quot;right&quot;, &quot;fill&quot;, &quot;justify&quot;, &quot;centerContinuous&quot;, &quot;distributed&quot;
# vertical，垂直方向对齐方式：&quot;top&quot;, &quot;center&quot;, &quot;bottom&quot;, &quot;justify&quot;, &quot;distributed&quot;
# text_rotation，旋转角度。
# wrap_text，是否自动换行。
cell.alignment &#x3D; Alignment(horizontal&#x3D;&#39;center&#39;, vertical&#x3D;&#39;distributed&#39;, text_rotation&#x3D;45, wrap_text&#x3D;True)
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 5. 边框
# side的style有如下：dashDot&#39;,&#39;dashDotDot&#39;, &#39;dashed&#39;,&#39;dotted&#39;,&#39;double&#39;,&#39;hair&#39;, &#39;medium&#39;, &#39;mediumDashDot&#39;, &#39;mediumDashDotDot&#39;,&#39;mediumDashed&#39;, &#39;slantDashDot&#39;, &#39;thick&#39;, &#39;thin&#39;
&quot;&quot;&quot;
cell &#x3D; sheet.cell(9, 2)
cell.border &#x3D; Border(
    top&#x3D;Side(style&#x3D;&quot;thin&quot;, color&#x3D;&quot;FFB6C1&quot;), 
    bottom&#x3D;Side(style&#x3D;&quot;dashed&quot;, color&#x3D;&quot;FFB6C1&quot;),
    left&#x3D;Side(style&#x3D;&quot;dashed&quot;, color&#x3D;&quot;FFB6C1&quot;),
    right&#x3D;Side(style&#x3D;&quot;dashed&quot;, color&#x3D;&quot;9932CC&quot;),
    diagonal&#x3D;Side(style&#x3D;&quot;thin&quot;, color&#x3D;&quot;483D8B&quot;),  # 对角线
    diagonalUp&#x3D;True,  # 左下 ~ 右上
    diagonalDown&#x3D;True  # 左上 ~ 右下
)
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 6.字体
&quot;&quot;&quot;
cell &#x3D; sheet.cell(5, 1)
cell.font &#x3D; Font(name&#x3D;&quot;微软雅黑&quot;, size&#x3D;45, color&#x3D;&quot;ff0000&quot;, underline&#x3D;&quot;single&quot;)
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 7.背景色
&quot;&quot;&quot;
cell &#x3D; sheet.cell(5, 3)
cell.fill &#x3D; PatternFill(&quot;solid&quot;, fgColor&#x3D;&quot;99ccff&quot;)
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 8.渐变背景色
&quot;&quot;&quot;
cell &#x3D; sheet.cell(5, 5)
cell.fill &#x3D; GradientFill(&quot;linear&quot;, stop&#x3D;(&quot;FFFFFF&quot;, &quot;99ccff&quot;, &quot;000000&quot;))
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 9.宽高（索引从1开始）
&quot;&quot;&quot;
sheet.row_dimensions[1].height &#x3D; 50
sheet.column_dimensions[&quot;E&quot;].width &#x3D; 100
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 10.合并单元格
&quot;&quot;&quot;
sheet.merge_cells(&quot;B2:D8&quot;)
sheet.merge_cells(start_row&#x3D;15, start_column&#x3D;3, end_row&#x3D;18, end_column&#x3D;8)
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;
&quot;&quot;&quot;
sheet.unmerge_cells(&quot;B2:D8&quot;)
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 11.写入公式
&quot;&quot;&quot;
sheet &#x3D; wb.worksheets[3]
sheet[&quot;D1&quot;] &#x3D; &quot;合计&quot;
sheet[&quot;D2&quot;] &#x3D; &quot;&#x3D;B2*C2&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;
&quot;&quot;&quot;
sheet &#x3D; wb.worksheets[3]
sheet[&quot;D3&quot;] &#x3D; &quot;&#x3D;SUM(B3,C3)&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 12.删除
&quot;&quot;&quot;
# idx，要删除的索引位置
# amount，从索引位置开始要删除的个数（默认为1）
sheet.delete_rows(idx&#x3D;1, amount&#x3D;20)
sheet.delete_cols(idx&#x3D;1, amount&#x3D;3)
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 13.插入
&quot;&quot;&quot;
sheet.insert_rows(idx&#x3D;5, amount&#x3D;10)
sheet.insert_cols(idx&#x3D;3, amount&#x3D;2)
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 14.循环写内容
&quot;&quot;&quot;
sheet &#x3D; wb[&quot;Sheet&quot;]
cell_range &#x3D; sheet[&#39;A1:C2&#39;]
for row in cell_range:
    for cell in row:
        cell.value &#x3D; &quot;xx&quot;

for row in sheet.iter_rows(min_row&#x3D;5, min_col&#x3D;1, max_col&#x3D;7, max_row&#x3D;10):
    for cell in row:
        cell.value &#x3D; &quot;oo&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 15.移动
&quot;&quot;&quot;
# 将H2:J10范围的数据，向右移动15个位置、向上移动1个位置
sheet.move_range(&quot;H2:J10&quot;,rows&#x3D;1, cols&#x3D;15)
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;
&quot;&quot;&quot;
sheet &#x3D; wb.worksheets[3]
sheet[&quot;D1&quot;] &#x3D; &quot;合计&quot;
sheet[&quot;D2&quot;] &#x3D; &quot;&#x3D;B2*C2&quot;
sheet[&quot;D3&quot;] &#x3D; &quot;&#x3D;SUM(B3,C3)&quot;
sheet.move_range(&quot;B1:D3&quot;,cols&#x3D;10, translate&#x3D;True) # 自动翻译公式
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 16.打印区域
&quot;&quot;&quot;
sheet.print_area &#x3D; &quot;A1:D200&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;

# 17.打印时，每个页面的固定表头
&quot;&quot;&quot;
sheet.print_title_cols &#x3D; &quot;A:D&quot;
sheet.print_title_rows &#x3D; &quot;1:3&quot;
wb.save(&quot;p2.xlsx&quot;)
&quot;&quot;&quot;</code></pre>



<h2 id="6-压缩文件"><a href="#6-压缩文件" class="headerlink" title="6.压缩文件"></a>6.压缩文件</h2><p>基于Python内置的shutil模块可以实现对压缩文件的操作。</p>
<pre class="language-python" data-language="python"><code class="language-python">import shutil

# 1. 压缩文件
&quot;&quot;&quot;
# base_name，压缩后的压缩包文件
# format，压缩的格式，例如：&quot;zip&quot;, &quot;tar&quot;, &quot;gztar&quot;, &quot;bztar&quot;, or &quot;xztar&quot;.
# root_dir，要压缩的文件夹路径
&quot;&quot;&quot;
# shutil.make_archive(base_name&#x3D;r&#39;datafile&#39;,format&#x3D;&#39;zip&#39;,root_dir&#x3D;r&#39;files&#39;)


# 2. 解压文件
&quot;&quot;&quot;
# filename，要解压的压缩包文件
# extract_dir，解压的路径
# format，压缩文件格式
&quot;&quot;&quot;
# shutil.unpack_archive(filename&#x3D;r&#39;datafile.zip&#39;, extract_dir&#x3D;r&#39;xxxxxx&#x2F;xo&#39;, format&#x3D;&#39;zip&#39;)</code></pre>



<h2 id="7-路径相关"><a href="#7-路径相关" class="headerlink" title="7.路径相关"></a>7.路径相关</h2><h3 id="7-1-转义"><a href="#7-1-转义" class="headerlink" title="7.1  转义"></a>7.1  转义</h3><p>windows路径使用的是\，linux路径使用的是&#x2F;。</p>
<p>特别的，在windows系统中如果有这样的一个路径 <code>D:\nxxx\txxx\x1</code>，程序会报错。因为在路径中存在特殊符 <code>\n</code>（换行符）和<code>\t</code>（制表符），Python解释器无法自动区分。</p>
<p>所以，在windows中编写路径时，一般有两种方式：</p>
<ul>
<li>加转义符，例如：<code>&quot;D:\\nxxx\\txxx\\x1&quot;</code></li>
<li>路径前加r，例如：<code>r&quot;D:\\nxxx\\txxx\\x1&quot;</code></li>
</ul>
<h3 id="7-2-程序当前路径"><a href="#7-2-程序当前路径" class="headerlink" title="7.2 程序当前路径"></a>7.2 程序当前路径</h3><p>项目中如果使用了相对路径，那么一定要注意当前所在的位置。</p>
<p>例如：在<code>/Users/wupeiqi/PycharmProjects/CodeRepository/</code>路径下编写 <code>demo.py</code>文件</p>
<pre class="language-python" data-language="python"><code class="language-python">with open(&quot;a1.txt&quot;, mode&#x3D;&#39;w&#39;, encoding&#x3D;&#39;utf-8&#39;) as f:
    f.write(&quot;你好呀&quot;)</code></pre>

<p>用以下两种方式去运行：</p>
<ul>
<li><p>方式1，文件会创建在 <code>/Users/wupeiqi/PycharmProjects/CodeRepository/</code> 目录下。</p>
<pre class="language-python" data-language="python"><code class="language-python">cd &#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;CodeRepository&#x2F;
python demo.py</code></pre>
</li>
<li><p>方式2，文件会创建在 <code>/Users/wupeiqi</code>目录下。</p>
<pre class="language-none"><code class="language-none">cd &#x2F;Users&#x2F;wupeiqi
python &#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;CodeRepository&#x2F;demo.py</code></pre></li>
</ul>
<pre class="language-python" data-language="python"><code class="language-python">import os

&quot;&quot;&quot;
# 1.获取当前运行的py脚本所在路径
abs &#x3D; os.path.abspath(__file__)
print(abs) # &#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09&#x2F;20.路径相关.py
path &#x3D; os.path.dirname(abs)
print(path) # &#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;luffyCourse&#x2F;day09
&quot;&quot;&quot;
base_dir &#x3D; os.path.dirname(os.path.abspath(__file__))
file_path &#x3D; os.path.join(base_dir, &#39;files&#39;, &#39;info.txt&#39;)
print(file_path)
if os.path.exists(file_path):
    file_object &#x3D; open(file_path, mode&#x3D;&#39;r&#39;, encoding&#x3D;&#39;utf-8&#39;)
    data &#x3D; file_object.read()
    file_object.close()

    print(data)
else:
    print(&#39;文件路径不存在&#39;)</code></pre>



<h3 id="7-3-文件和路径相关"><a href="#7-3-文件和路径相关" class="headerlink" title="7.3 文件和路径相关"></a>7.3 文件和路径相关</h3><pre class="language-python" data-language="python"><code class="language-python">import shutil
import os

# 1. 获取当前脚本绝对路径
&quot;&quot;&quot;
abs_path &#x3D; os.path.abspath(__file__)
print(abs_path)
&quot;&quot;&quot;

# 2. 获取当前文件的上级目录
&quot;&quot;&quot;
base_path &#x3D; os.path.dirname( os.path.dirname(路径) ）
print(base_path)
&quot;&quot;&quot;

# 3. 路径拼接
&quot;&quot;&quot;
p1 &#x3D; os.path.join(base_path, &#39;xx&#39;)
print(p1)

p2 &#x3D; os.path.join(base_path, &#39;xx&#39;, &#39;oo&#39;, &#39;a1.png&#39;)
print(p2)
&quot;&quot;&quot;

# 4. 判断路径是否存在
&quot;&quot;&quot;
exists &#x3D; os.path.exists(p1)
print(exists)
&quot;&quot;&quot;

# 5. 创建文件夹
&quot;&quot;&quot;
os.makedirs(路径)
&quot;&quot;&quot;
&quot;&quot;&quot;
path &#x3D; os.path.join(base_path, &#39;xx&#39;, &#39;oo&#39;, &#39;uuuu&#39;)
if not os.path.exists(path):
    os.makedirs(path)
&quot;&quot;&quot;

# 6. 是否是文件夹
&quot;&quot;&quot;
file_path &#x3D; os.path.join(base_path, &#39;xx&#39;, &#39;oo&#39;, &#39;uuuu.png&#39;)
is_dir &#x3D; os.path.isdir(file_path)
print(is_dir) # False

folder_path &#x3D; os.path.join(base_path, &#39;xx&#39;, &#39;oo&#39;, &#39;uuuu&#39;)
is_dir &#x3D; os.path.isdir(folder_path)
print(is_dir) # True

&quot;&quot;&quot;

# 7. 删除文件或文件夹
&quot;&quot;&quot;
os.remove(&quot;文件路径&quot;)
&quot;&quot;&quot;
&quot;&quot;&quot;
path &#x3D; os.path.join(base_path, &#39;xx&#39;)
shutil.rmtree(path)
&quot;&quot;&quot;

# 8. 拷贝文件夹
&quot;&quot;&quot;
shutil.copytree(&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;Desktop&#x2F;图&#x2F;csdn&#x2F;&quot;,&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;CodeRepository&#x2F;files&quot;)
&quot;&quot;&quot;

# 9.拷贝文件
&quot;&quot;&quot;
shutil.copy(&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;Desktop&#x2F;图&#x2F;csdn&#x2F;WX20201123-112406@2x.png&quot;,&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;CodeRepository&#x2F;&quot;)
shutil.copy(&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;Desktop&#x2F;图&#x2F;csdn&#x2F;WX20201123-112406@2x.png&quot;,&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;CodeRepository&#x2F;x.png&quot;)
&quot;&quot;&quot;

# 10.文件或文件夹重命名
&quot;&quot;&quot;
shutil.move(&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;CodeRepository&#x2F;x.png&quot;,&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;CodeRepository&#x2F;xxxx.png&quot;)
shutil.move(&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;CodeRepository&#x2F;files&quot;,&quot;&#x2F;Users&#x2F;wupeiqi&#x2F;PycharmProjects&#x2F;CodeRepository&#x2F;images&quot;)
&quot;&quot;&quot;</code></pre>





<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>今天我们主要围绕着<code>文件</code> 相关的操作来展开进行讲解，让大家能够基于Python处理不同格式的文件。由于涉及的知识点比较多，所以今日的内容学起来会比较耗时，但都比较简单，只需要理解并编写好相关笔记以便后期开发时翻阅。</p>
<ol>
<li><p>文件相对路径，在使用相对路径时可能会执行程序的目录不同，导致路径出问题。所以，如若使用相对路径请务必清楚当前运行程序所在目录。</p>
</li>
<li><p>文件绝对路径（推荐），不要将文件路径写死，而是基于 os 模块中的相关功能自动化获取绝对路径，以方便项目移动到其他文件或电脑上。</p>
<pre class="language-python" data-language="python"><code class="language-python">import os
base_dir &#x3D; os.path.dirname(os.path.abspath(__file__))
file_path &#x3D; os.path.join(base_dir, &#39;files&#39;, &#39;info.txt&#39;)</code></pre>
</li>
<li><p>路径转义</p>
<ul>
<li>手动写路径，需要自己在路径中添加 r 或 加入 \ 来进行处理。</li>
<li>基于os.path.join拼接，内部自动处理，不需要手动处理。</li>
</ul>
</li>
<li><p>内置函数、内置模块、第三方模块的区别？</p>
</li>
<li><p>如何去下载安装第三方模块？</p>
<pre class="language-python" data-language="python"><code class="language-python">pip install 模块名称</code></pre>

<ul>
<li>requests模块，可以用来发送网络请求。</li>
<li>openpyxl模块，处理Excel格式的文件。</li>
</ul>
</li>
<li><p>基本文件的读写、打开模式、上下文管理。</p>
</li>
<li><p>其他格式：csv、ini、xml、excel格式的处理（无序记忆，做好笔记即可）。</p>
</li>
</ol>
<h2 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h2><ol>
<li><p>基于csv格式实现 用户的注册 &amp; 登录认证。详细需求如下：</p>
<ul>
<li>用户注册时，新注册用户要写入文件csv文件中，输入Q或q则退出。</li>
<li>用户登录时，逐行读取csv文件中的用户信息并进行校验。</li>
<li>提示：文件路径须使用os模块构造的绝对路径的方式。</li>
</ul>
</li>
<li><p>补充代码：实现去网上获取指定地区的天气信息，并写入到Excel中。</p>
<pre class="language-python" data-language="python"><code class="language-python">import requests

while True:
    city &#x3D; input(&quot;请输入城市（Q&#x2F;q退出）：&quot;)
    if city.upper() &#x3D;&#x3D; &quot;Q&quot;:
        break
    url &#x3D; &quot;http:&#x2F;&#x2F;ws.webxml.com.cn&#x2F;&#x2F;WebServices&#x2F;WeatherWebService.asmx&#x2F;getWeatherbyCityName?theCityName&#x3D;&#123;&#125;&quot;.format(city)
    res &#x3D; requests.get(url&#x3D;url)
    print（res.text）

    # 1.提取XML格式中的数据
    # 2.为每个城市创建一个sheet，并将获取的xml格式中的数据写入到excel中。 </code></pre>
</li>
<li><p>读取ini文件内容，按照规则写入到Excel中。</p>
<ul>
<li><p>ini文件内容如下：</p>
<pre class="language-ini" data-language="ini"><code class="language-ini">[mysqld]
datadir&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql
socket&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;mysql.sock
log-bin&#x3D;py-mysql-bin
character-set-server&#x3D;utf8
collation-server&#x3D;utf8_general_ci
log-error&#x3D;&#x2F;var&#x2F;log&#x2F;mysqld.log
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links&#x3D;0

[mysqld_safe]
log-error&#x3D;&#x2F;var&#x2F;log&#x2F;mariadb&#x2F;mariadb.log
pid-file&#x3D;&#x2F;var&#x2F;run&#x2F;mariadb&#x2F;mariadb.pid

[client]
default-character-set&#x3D;utf8</code></pre>
</li>
<li><p>读取ini格式的文件，并创建一个excel文件，且为每个节点创建一个sheet，然后将节点下的键值写入到excel中，按照如下格式。</p>
<img src="asserts/image-20201218204922898.png" alt="image-20201218204922898" style="zoom: 33%;" />

<ul>
<li>首行，字体白色 &amp; 单元格背景色蓝色。</li>
<li>内容均居中。</li>
<li>边框。</li>
</ul>
</li>
</ul>
<p>	</p>
</li>
<li><p>补充代码，实现如下功能。</p>
<pre class="language-python" data-language="python"><code class="language-python">import requests

# 1.下载文件
file_url &#x3D; &#39;https:&#x2F;&#x2F;files.cnblogs.com&#x2F;files&#x2F;wupeiqi&#x2F;HtmlStore.zip&#39;
res &#x3D; requests.get(url&#x3D;file_url)
print(res.content)

# 2.将下载的文件保存到当前执行脚本同级目录下 &#x2F;files&#x2F;package&#x2F; 目录下（且文件名为HtmlStore.zip）

# 3.在将下载下来的文件解压到 &#x2F;files&#x2F;html&#x2F; 目录下</code></pre></li>
</ol>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Gengtianba</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://gengtianba.github.io/2022/05/27/python-mo-kuai-er-day3/">https://gengtianba.github.io/2022/05/27/python-mo-kuai-er-day3/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Gengtianba</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E7%AC%94%E8%AE%B0/">
                                    <span class="chip bg-color">笔记</span>
                                </a>
                            
                                <a href="/tags/python/">
                                    <span class="chip bg-color">python</span>
                                </a>
                            
                                <a href="/tags/%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/">
                                    <span class="chip bg-color">第一阶段</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="qq,wechat,weibo,douban,qzone,linkedin,twitter,facebook,google" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: '9YyPLPh0zyJlFMB2ciHdondz-gzGzoHsz',
        appKey: 'naTQJa37tbxowE4Gm70MF9b6',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2022/05/27/python-mo-kuai-er-day3/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/17.jpg" class="responsive-img" alt="Python模块二day3">
                        
                        <span class="card-title">Python模块二day3</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            路飞学院PYTHON课程模块一笔记
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-05-27
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E8%B7%AF%E9%A3%9E%E5%AD%A6%E9%99%A2/" class="post-category">
                                    路飞学院
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E7%AC%94%E8%AE%B0/">
                        <span class="chip bg-color">笔记</span>
                    </a>
                    
                    <a href="/tags/python/">
                        <span class="chip bg-color">python</span>
                    </a>
                    
                    <a href="/tags/%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/">
                        <span class="chip bg-color">第一阶段</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/05/26/bo-ke-da-jian/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="博客搭建">
                        
                        <span class="card-title">博客搭建</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            关于个人博客搭建的视频链接
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-05-26
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/hexo/" class="post-category">
                                    hexo
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/hexo/">
                        <span class="chip bg-color">hexo</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022</span>
            
            <span id="year">2022</span>
            <a href="/about" target="_blank">Gengtianba</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/gengtianba" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1138798275@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1138798275" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1138798275" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
